(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Qe=e=>typeof e=="object"&&e!==null,ri=1,ii=9,oi=11,si=e=>Qe(e)&&e.nodeType===ri&&typeof e.nodeName=="string",qn=e=>Qe(e)&&e.nodeType===ii,ai=e=>Qe(e)&&e===e.window,ui=e=>Qe(e)&&e.nodeType!==void 0,li=e=>ui(e)&&e.nodeType===oi&&"host"in e;function Nt(e){return qn(e)?e:ai(e)?e.document:e?.ownerDocument??document}function le(e){return li(e)?le(e.host):qn(e)?e.defaultView??window:si(e)?e.ownerDocument?.defaultView??window:window}var Hn=()=>typeof document<"u";function ci(){return navigator.userAgentData?.platform??navigator.platform}function fi(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}var di=e=>Hn()&&e.test(ci()),pi=e=>Hn()&&e.test(fi()),hi=()=>di(/^Mac/i),mi=()=>pi(/Android/i);function gi(e){return e.composedPath?.()??e.nativeEvent?.composedPath?.()}function Kn(e){return gi(e)?.[0]??e.target}function _i(e){return e.pointerType===""&&e.isTrusted?!0:mi()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function yi(e){return!(e.metaKey||!hi()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var vi=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function bi(e,t,n){const r=n?Kn(n):null,o=le(r);return e=e||r instanceof o.HTMLInputElement&&!vi.has(r?.type)||r instanceof o.HTMLTextAreaElement||r instanceof o.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&n instanceof o.KeyboardEvent&&!Reflect.has(wi,n.key))}var oe=null,ft=new Set,Ae=new Map,re=!1,dt=!1,wi={Tab:!0,Escape:!0};function Je(e,t){for(let n of ft)n(e,t)}function $e(e){re=!0,yi(e)&&(oe="keyboard",Je("keyboard",e))}function L(e){oe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(re=!0,Je("pointer",e))}function Gn(e){_i(e)&&(re=!0,oe="virtual")}function Un(e){const t=Kn(e);t===le(t)||t===Nt(t)||(!re&&!dt&&(oe="virtual",Je("virtual",e)),re=!1,dt=!1)}function Wn(){re=!1,dt=!0}function Ti(e){if(typeof window>"u"||Ae.get(le(e)))return;const t=le(e),n=Nt(e);let r=t.HTMLElement.prototype.focus;function o(){oe="virtual",Je("virtual",null),re=!0,r.apply(this,arguments)}Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:o}),n.addEventListener("keydown",$e,!0),n.addEventListener("keyup",$e,!0),n.addEventListener("click",Gn,!0),t.addEventListener("focus",Un,!0),t.addEventListener("blur",Wn,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",L,!0),n.addEventListener("pointermove",L,!0),n.addEventListener("pointerup",L,!0)):(n.addEventListener("mousedown",L,!0),n.addEventListener("mousemove",L,!0),n.addEventListener("mouseup",L,!0)),t.addEventListener("beforeunload",()=>{Ai(e)},{once:!0}),Ae.set(t,{focus:r})}var Ai=(e,t)=>{const n=le(e),r=Nt(e);Ae.has(n)&&(n.HTMLElement.prototype.focus=Ae.get(n).focus,r.removeEventListener("keydown",$e,!0),r.removeEventListener("keyup",$e,!0),r.removeEventListener("click",Gn,!0),n.removeEventListener("focus",Un,!0),n.removeEventListener("blur",Wn,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",L,!0),r.removeEventListener("pointermove",L,!0),r.removeEventListener("pointerup",L,!0)):(r.removeEventListener("mousedown",L,!0),r.removeEventListener("mousemove",L,!0),r.removeEventListener("mouseup",L,!0)),Ae.delete(n))};function sn(){return oe==="keyboard"}function xi(e={}){const{isTextInput:t,autoFocus:n,onChange:r,root:o}=e;Ti(o),r?.({isFocusVisible:n||sn(),modality:oe});const a=(l,f)=>{bi(!!t,l,f)&&r?.({isFocusVisible:sn(),modality:l})};return ft.add(a),()=>{ft.delete(a)}}var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var it,an;function Mi(){return an||(an=1,it=function(e,t,n){if(e==null||t==null)return e;var r=String(e),o=typeof t=="number"?t:parseInt(t,10);if(isNaN(o)||!isFinite(o))return r;var a=r.length;if(a>=o)return r;var l=n==null?"":String(n);l===""&&(l=" ");for(var f=o-a;l.length<f;)l+=l;var d=l.length>f?l.substr(0,f):l;return r+d}),it}var Ei=Mi();const ot=Si(Ei);var R=9e15,Le=(function(){for(var e=[],t=-323;t<=308;t++)e.push(+("1e"+t));return function(n){return e[n+323]}})(),y=function(e){return e instanceof E?e:new E(e)},O=function(e,t){return new E().fromMantissaExponent(e,t)},Z=function(e,t){return new E().fromMantissaExponent_noNormalize(e,t)};function ki(e,t,n,r){var o=t.mul(n.pow(r));return E.floor(e.div(o).mul(n.sub(1)).add(1).log10()/n.log10())}function Vi(e,t,n,r){return t.mul(n.pow(r)).mul(E.sub(1,n.pow(e))).div(E.sub(1,n))}var E=(function(){function e(t){this.mantissa=NaN,this.exponent=NaN,t===void 0?(this.m=0,this.e=0):t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(e.prototype,"m",{get:function(){return this.mantissa},set:function(t){this.mantissa=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.exponent},set:function(t){this.exponent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){return this.sign()},set:function(t){if(t===0)return this.e=0,void(this.m=0);this.sgn()!==t&&(this.m=-this.m)},enumerable:!1,configurable:!0}),e.fromMantissaExponent=function(t,n){return new e().fromMantissaExponent(t,n)},e.fromMantissaExponent_noNormalize=function(t,n){return new e().fromMantissaExponent_noNormalize(t,n)},e.fromDecimal=function(t){return new e().fromDecimal(t)},e.fromNumber=function(t){return new e().fromNumber(t)},e.fromString=function(t){return new e().fromString(t)},e.fromValue=function(t){return new e().fromValue(t)},e.fromValue_noAlloc=function(t){return t instanceof e?t:new e(t)},e.abs=function(t){return y(t).abs()},e.neg=function(t){return y(t).neg()},e.negate=function(t){return y(t).neg()},e.negated=function(t){return y(t).neg()},e.sign=function(t){return y(t).sign()},e.sgn=function(t){return y(t).sign()},e.round=function(t){return y(t).round()},e.floor=function(t){return y(t).floor()},e.ceil=function(t){return y(t).ceil()},e.trunc=function(t){return y(t).trunc()},e.add=function(t,n){return y(t).add(n)},e.plus=function(t,n){return y(t).add(n)},e.sub=function(t,n){return y(t).sub(n)},e.subtract=function(t,n){return y(t).sub(n)},e.minus=function(t,n){return y(t).sub(n)},e.mul=function(t,n){return y(t).mul(n)},e.multiply=function(t,n){return y(t).mul(n)},e.times=function(t,n){return y(t).mul(n)},e.div=function(t,n){return y(t).div(n)},e.divide=function(t,n){return y(t).div(n)},e.recip=function(t){return y(t).recip()},e.reciprocal=function(t){return y(t).recip()},e.reciprocate=function(t){return y(t).reciprocate()},e.cmp=function(t,n){return y(t).cmp(n)},e.compare=function(t,n){return y(t).cmp(n)},e.eq=function(t,n){return y(t).eq(n)},e.equals=function(t,n){return y(t).eq(n)},e.neq=function(t,n){return y(t).neq(n)},e.notEquals=function(t,n){return y(t).notEquals(n)},e.lt=function(t,n){return y(t).lt(n)},e.lte=function(t,n){return y(t).lte(n)},e.gt=function(t,n){return y(t).gt(n)},e.gte=function(t,n){return y(t).gte(n)},e.max=function(t,n){return y(t).max(n)},e.min=function(t,n){return y(t).min(n)},e.clamp=function(t,n,r){return y(t).clamp(n,r)},e.clampMin=function(t,n){return y(t).clampMin(n)},e.clampMax=function(t,n){return y(t).clampMax(n)},e.cmp_tolerance=function(t,n,r){return y(t).cmp_tolerance(n,r)},e.compare_tolerance=function(t,n,r){return y(t).cmp_tolerance(n,r)},e.eq_tolerance=function(t,n,r){return y(t).eq_tolerance(n,r)},e.equals_tolerance=function(t,n,r){return y(t).eq_tolerance(n,r)},e.neq_tolerance=function(t,n,r){return y(t).neq_tolerance(n,r)},e.notEquals_tolerance=function(t,n,r){return y(t).notEquals_tolerance(n,r)},e.lt_tolerance=function(t,n,r){return y(t).lt_tolerance(n,r)},e.lte_tolerance=function(t,n,r){return y(t).lte_tolerance(n,r)},e.gt_tolerance=function(t,n,r){return y(t).gt_tolerance(n,r)},e.gte_tolerance=function(t,n,r){return y(t).gte_tolerance(n,r)},e.log10=function(t){return y(t).log10()},e.absLog10=function(t){return y(t).absLog10()},e.pLog10=function(t){return y(t).pLog10()},e.log=function(t,n){return y(t).log(n)},e.log2=function(t){return y(t).log2()},e.ln=function(t){return y(t).ln()},e.logarithm=function(t,n){return y(t).logarithm(n)},e.pow10=function(t){return Number.isInteger(t)?Z(1,t):O(Math.pow(10,t%1),Math.trunc(t))},e.pow=function(t,n){return typeof t=="number"&&t===10&&typeof n=="number"&&Number.isInteger(n)?Z(1,n):y(t).pow(n)},e.exp=function(t){return y(t).exp()},e.sqr=function(t){return y(t).sqr()},e.sqrt=function(t){return y(t).sqrt()},e.cube=function(t){return y(t).cube()},e.cbrt=function(t){return y(t).cbrt()},e.dp=function(t){return y(t).dp()},e.decimalPlaces=function(t){return y(t).dp()},e.affordGeometricSeries=function(t,n,r,o){return ki(y(t),y(n),y(r),o)},e.sumGeometricSeries=function(t,n,r,o){return Vi(t,y(n),y(r),o)},e.affordArithmeticSeries=function(t,n,r,o){return(function(a,l,f,d){var h=l.add(d.mul(f)).sub(f.div(2)),_=h.pow(2);return h.neg().add(_.add(f.mul(a).mul(2)).sqrt()).div(f).floor()})(y(t),y(n),y(r),y(o))},e.sumArithmeticSeries=function(t,n,r,o){return(function(a,l,f,d){var h=l.add(d.mul(f));return a.div(2).mul(h.mul(2).plus(a.sub(1).mul(f)))})(y(t),y(n),y(r),y(o))},e.efficiencyOfPurchase=function(t,n,r){return(function(o,a,l){return o.div(a).add(o.div(l))})(y(t),y(n),y(r))},e.randomDecimalForTesting=function(t){if(20*Math.random()<1)return Z(0,0);var n=10*Math.random();10*Math.random()<1&&(n=Math.round(n)),n*=Math.sign(2*Math.random()-1);var r=Math.floor(Math.random()*t*2)-t;return O(n,r)},e.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var t=Math.floor(Math.log10(Math.abs(this.m)));return this.m=t===-324?10*this.m/1e-323:this.m/Le(t),this.e+=t,this},e.prototype.fromMantissaExponent=function(t,n){return isFinite(t)&&isFinite(n)?(this.m=t,this.e=n,this.normalize(),this):(t=Number.NaN,n=Number.NaN,this)},e.prototype.fromMantissaExponent_noNormalize=function(t,n){return this.m=t,this.e=n,this},e.prototype.fromDecimal=function(t){return this.m=t.m,this.e=t.e,this},e.prototype.fromNumber=function(t){return isNaN(t)?(this.m=Number.NaN,this.e=Number.NaN):t===Number.POSITIVE_INFINITY?(this.m=1,this.e=R):t===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=R):t===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(t))),this.m=this.e===-324?10*t/1e-323:t/Le(this.e),this.normalize()),this},e.prototype.fromString=function(t){if(t.indexOf("e")!==-1){var n=t.split("e");this.m=parseFloat(n[0]),this.e=parseFloat(n[1]),this.normalize()}else if(t==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(t)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+t);return this},e.prototype.fromValue=function(t){return t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):typeof t=="string"?this.fromString(t):(this.m=0,this.e=0,this)},e.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var t=this.m*Le(this.e);if(!isFinite(t)||this.e<0)return t;var n=Math.round(t);return Math.abs(n-t)<1e-10?n:t},e.prototype.mantissaWithDecimalPlaces=function(t){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var n=t+1,r=Math.ceil(Math.log10(Math.abs(this.m))),o=Math.round(this.m*Math.pow(10,n-r))*Math.pow(10,r-n);return parseFloat(o.toFixed(Math.max(n-r,0)))},e.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=R?this.m>0?"Infinity":"-Infinity":this.e<=-R||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toExponential=function(t){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=R)return this.m>0?"Infinity":"-Infinity";if(this.e<=-R||this.m===0)return"0"+(t>0?ot(".",t+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(t);isFinite(t)||(t=17);var n=t+1,r=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,n-r))*Math.pow(10,r-n)).toFixed(Math.max(n-r,0))+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toFixed=function(t){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=R?this.m>0?"Infinity":"-Infinity":this.e<=-R||this.m===0?"0"+(t>0?ot(".",t+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(t>0?ot(".",t+1,"0"):""):this.toNumber().toFixed(t)},e.prototype.toPrecision=function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.e-1):this.toExponential(t-1)},e.prototype.valueOf=function(){return this.toString()},e.prototype.toJSON=function(){return this.toString()},e.prototype.toStringWithDecimalPlaces=function(t){return this.toExponential(t)},e.prototype.abs=function(){return Z(Math.abs(this.m),this.e)},e.prototype.neg=function(){return Z(-this.m,this.e)},e.prototype.negate=function(){return this.neg()},e.prototype.negated=function(){return this.neg()},e.prototype.sign=function(){return Math.sign(this.m)},e.prototype.sgn=function(){return this.sign()},e.prototype.round=function(){return this.e<-1?new e(0):this.e<17?new e(Math.round(this.toNumber())):this},e.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new e(0):new e(-1):this.e<17?new e(Math.floor(this.toNumber())):this},e.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new e(1):new e(0):this.e<17?new e(Math.ceil(this.toNumber())):this},e.prototype.trunc=function(){return this.e<0?new e(0):this.e<17?new e(Math.trunc(this.toNumber())):this},e.prototype.add=function(t){var n,r,o=y(t);if(this.m===0)return o;if(o.m===0)return this;if(this.e>=o.e?(n=this,r=o):(n=o,r=this),n.e-r.e>17)return n;var a=Math.round(1e14*n.m+1e14*r.m*Le(r.e-n.e));return O(a,n.e-14)},e.prototype.plus=function(t){return this.add(t)},e.prototype.sub=function(t){return this.add(y(t).neg())},e.prototype.subtract=function(t){return this.sub(t)},e.prototype.minus=function(t){return this.sub(t)},e.prototype.mul=function(t){if(typeof t=="number")return t<1e307&&t>-1e307?O(this.m*t,this.e):O(1e-307*this.m*t,this.e+307);var n=typeof t=="string"?new e(t):t;return O(this.m*n.m,this.e+n.e)},e.prototype.multiply=function(t){return this.mul(t)},e.prototype.times=function(t){return this.mul(t)},e.prototype.div=function(t){return this.mul(y(t).recip())},e.prototype.divide=function(t){return this.div(t)},e.prototype.divideBy=function(t){return this.div(t)},e.prototype.dividedBy=function(t){return this.div(t)},e.prototype.recip=function(){return O(1/this.m,-this.e)},e.prototype.reciprocal=function(){return this.recip()},e.prototype.reciprocate=function(){return this.recip()},e.prototype.cmp=function(t){var n=y(t);if(this.m===0){if(n.m===0)return 0;if(n.m<0)return 1;if(n.m>0)return-1}if(n.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return n.m<0||this.e>n.e?1:this.e<n.e?-1:this.m>n.m?1:this.m<n.m?-1:0;if(this.m<0)return n.m>0||this.e>n.e?-1:this.e<n.e||this.m>n.m?1:this.m<n.m?-1:0;throw Error("Unreachable code")},e.prototype.compare=function(t){return this.cmp(t)},e.prototype.eq=function(t){var n=y(t);return this.e===n.e&&this.m===n.m},e.prototype.equals=function(t){return this.eq(t)},e.prototype.neq=function(t){return!this.eq(t)},e.prototype.notEquals=function(t){return this.neq(t)},e.prototype.lt=function(t){var n=y(t);return this.m===0?n.m>0:n.m===0?this.m<=0:this.e===n.e?this.m<n.m:this.m>0?n.m>0&&this.e<n.e:n.m>0||this.e>n.e},e.prototype.lte=function(t){return!this.gt(t)},e.prototype.gt=function(t){var n=y(t);return this.m===0?n.m<0:n.m===0?this.m>0:this.e===n.e?this.m>n.m:this.m>0?n.m<0||this.e>n.e:n.m<0&&this.e<n.e},e.prototype.gte=function(t){return!this.lt(t)},e.prototype.max=function(t){var n=y(t);return this.lt(n)?n:this},e.prototype.min=function(t){var n=y(t);return this.gt(n)?n:this},e.prototype.clamp=function(t,n){return this.max(t).min(n)},e.prototype.clampMin=function(t){return this.max(t)},e.prototype.clampMax=function(t){return this.min(t)},e.prototype.cmp_tolerance=function(t,n){var r=y(t);return this.eq_tolerance(r,n)?0:this.cmp(r)},e.prototype.compare_tolerance=function(t,n){return this.cmp_tolerance(t,n)},e.prototype.eq_tolerance=function(t,n){var r=y(t);return e.lte(this.sub(r).abs(),e.max(this.abs(),r.abs()).mul(n))},e.prototype.equals_tolerance=function(t,n){return this.eq_tolerance(t,n)},e.prototype.neq_tolerance=function(t,n){return!this.eq_tolerance(t,n)},e.prototype.notEquals_tolerance=function(t,n){return this.neq_tolerance(t,n)},e.prototype.lt_tolerance=function(t,n){var r=y(t);return!this.eq_tolerance(r,n)&&this.lt(r)},e.prototype.lte_tolerance=function(t,n){var r=y(t);return this.eq_tolerance(r,n)||this.lt(r)},e.prototype.gt_tolerance=function(t,n){var r=y(t);return!this.eq_tolerance(r,n)&&this.gt(r)},e.prototype.gte_tolerance=function(t,n){var r=y(t);return this.eq_tolerance(r,n)||this.gt(r)},e.prototype.log10=function(){return this.e+Math.log10(this.m)},e.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},e.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},e.prototype.log=function(t){return Math.LN10/Math.log(t)*this.log10()},e.prototype.log2=function(){return 3.321928094887362*this.log10()},e.prototype.ln=function(){return 2.302585092994045*this.log10()},e.prototype.logarithm=function(t){return this.log(t)},e.prototype.pow=function(t){var n,r=t instanceof e?t.toNumber():t,o=this.e*r;if(Number.isSafeInteger(o)&&(n=Math.pow(this.m,r),isFinite(n)&&n!==0))return O(n,o);var a=Math.trunc(o),l=o-a;if(n=Math.pow(10,r*Math.log10(this.m)+l),isFinite(n)&&n!==0)return O(n,a);var f=e.pow10(r*this.absLog10());return this.sign()===-1?Math.abs(r%2)===1?f.neg():Math.abs(r%2)===0?f:new e(Number.NaN):f},e.prototype.pow_base=function(t){return y(t).pow(this)},e.prototype.factorial=function(){var t=this.toNumber()+1;return e.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},e.prototype.exp=function(){var t=this.toNumber();return-706<t&&t<709?e.fromNumber(Math.exp(t)):e.pow(Math.E,t)},e.prototype.sqr=function(){return O(Math.pow(this.m,2),2*this.e)},e.prototype.sqrt=function(){return this.m<0?new e(Number.NaN):this.e%2!=0?O(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):O(Math.sqrt(this.m),Math.floor(this.e/2))},e.prototype.cube=function(){return O(Math.pow(this.m,3),3*this.e)},e.prototype.cbrt=function(){var t=1,n=this.m;n<0&&(t=-1,n=-n);var r=t*Math.pow(n,1/3),o=this.e%3;return O(o===1||o===-1?2.154434690031883*r:o!==0?4.641588833612778*r:r,Math.floor(this.e/3))},e.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},e.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},e.prototype.tanh=function(){return this.sinh().div(this.cosh())},e.prototype.asinh=function(){return e.ln(this.add(this.sqr().add(1).sqrt()))},e.prototype.acosh=function(){return e.ln(this.add(this.sqr().sub(1).sqrt()))},e.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:e.ln(this.add(1).div(new e(1).sub(this)))/2},e.prototype.ascensionPenalty=function(t){return t===0?this:this.pow(Math.pow(10,-t))},e.prototype.egg=function(){return this.add(9)},e.prototype.lessThanOrEqualTo=function(t){return this.cmp(t)<1},e.prototype.lessThan=function(t){return this.cmp(t)<0},e.prototype.greaterThanOrEqualTo=function(t){return this.cmp(t)>-1},e.prototype.greaterThan=function(t){return this.cmp(t)>0},e.prototype.decimalPlaces=function(){return this.dp()},e.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var t=this.mantissa,n=-this.exponent,r=1;Math.abs(Math.round(t*r)/r-t)>1e-10;)r*=10,n++;return n>0?n:0},Object.defineProperty(e,"MAX_VALUE",{get:function(){return Ni},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MIN_VALUE",{get:function(){return Ci},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MAX_VALUE",{get:function(){return Fi},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MIN_VALUE",{get:function(){return Ii},enumerable:!1,configurable:!0}),e})(),Ni=Z(1,R),Ci=Z(1,-R),Fi=y(Number.MAX_VALUE),Ii=y(Number.MIN_VALUE);const Pi=["de","en"],Me="de",un={de:{"app.title":"CannaClicker","stats.buds":"Buds","stats.bpc":"Buds pro Klick","stats.bps":"Buds pro Sekunde","stats.total":"Gesamt geerntet","actions.click":"Ernte Buds","actions.buy":"Kaufen","actions.max":"Max","actions.export":"Export","actions.import":"Import","actions.reset":"Reset","actions.close":"Schließen","actions.mute":"Stumm","actions.unmute":"Ton","actions.confirm":"Bestätigen","actions.cancel":"Abbrechen","modal.import.title":"Spielstand importieren","modal.import.hint":"Füge hier deinen Base64-Export ein.","modal.reset.title":"Fortschritt zurücksetzen?","modal.reset.body":"Das löscht deinen aktuellen Fortschritt unwiderruflich.","modal.reset.confirm":"Ja, löschen","shop.title":"Anbau","shop.empty":"Noch keine Gebäude verfügbar. Ernte mehr Buds!","shop.payback":"Amortisation: {seconds}s","upgrades.title":"Upgrades","achievements.title":"Erfolge"},en:{"app.title":"CannaClicker","stats.buds":"Buds","stats.bpc":"Buds per Click","stats.bps":"Buds per Second","stats.total":"Total Harvested","actions.click":"Harvest Buds","actions.buy":"Buy","actions.max":"Max","actions.export":"Export","actions.import":"Import","actions.reset":"Reset","actions.close":"Close","actions.mute":"Mute","actions.unmute":"Sound","actions.confirm":"Confirm","actions.cancel":"Cancel","modal.import.title":"Import save","modal.import.hint":"Paste your Base64 save code here.","modal.reset.title":"Reset progress?","modal.reset.body":"This cannot be undone and clears your current game.","modal.reset.confirm":"Yes, delete it","shop.title":"Grow Ops","shop.empty":"No buildings unlocked yet. Harvest more buds!","shop.payback":"Payback: {seconds}s","upgrades.title":"Upgrades","achievements.title":"Achievements"}};function F(e,t,n={}){const r=un[e]?.[t]??un[Me]?.[t]??t;return Object.entries(n).reduce((o,[a,l])=>o.replaceAll(`{${a}}`,String(l)),r)}function Oi(e){if(!e)return Me;const t=e.toLowerCase().slice(0,2);return Pi.includes(t)?t:Me}const et=1;function pt(e={}){const t=Date.now(),n=typeof performance<"u"?performance.now():t;return{v:et,buds:new E(0),total:new E(0),bps:new E(0),bpc:new E(1),items:{},upgrades:{},achievements:{},time:t,locale:Me,muted:!1,lastTick:n,...e}}function Be(e){return e instanceof E?e:e==null?new E(0):new E(e)}const J="cannaclicker:save:v1";function Di(){const e=window.localStorage.getItem(J);if(e)try{JSON.parse(e).v||window.localStorage.removeItem(J)}catch{window.localStorage.removeItem(J)}}function Li(){try{const e=window.localStorage.getItem(J);if(!e)return null;const t=JSON.parse(e);return!t||t.v!==et?null:t}catch(e){return console.error("Failed to parse save",e),null}}function $n(e){return pt(e?{v:e.v,buds:Be(e.buds),total:Be(e.total),bps:Be(e.bps),bpc:Be(e.bpc),items:e.items??{},upgrades:e.upgrades??{},achievements:e.achievements??{},time:e.time??Date.now(),locale:e.locale??ln(),muted:e.muted??cn()}:{locale:ln(),muted:cn()})}function je(e){const t={v:et,buds:e.buds.toString(),total:e.total.toString(),bps:e.bps.toString(),bpc:e.bpc.toString(),items:e.items,upgrades:e.upgrades,achievements:e.achievements,time:Date.now(),locale:e.locale,muted:e.muted};window.localStorage.setItem(J,JSON.stringify(t))}function Bi(e){const t={v:et,buds:e.buds.toString(),total:e.total.toString(),bps:e.bps.toString(),bpc:e.bpc.toString(),items:e.items,upgrades:e.upgrades,achievements:e.achievements,time:Date.now(),locale:e.locale,muted:e.muted},n=JSON.stringify(t);return btoa(unescape(encodeURIComponent(n)))}function Ri(e){const t=decodeURIComponent(escape(atob(e.trim()))),n=JSON.parse(t);if(!n||!n.v)throw new Error("Unbekanntes Save-Format");return window.localStorage.setItem(J,JSON.stringify(n)),$n(n)}function qi(){window.localStorage.removeItem(J)}function ln(){return Oi(window.navigator.language??Me)}function cn(){try{return window.localStorage.getItem("cannaclicker:muted")==="1"}catch{return!1}}function fn(e){try{window.localStorage.setItem("cannaclicker:muted",e?"1":"0")}catch{}}function Hi(e,t,n={}){const r=Math.max(5,n.autosaveSeconds??10),o=!!n.paused;let a=performance.now(),l=0,f=0,d=0;const h=_=>{if(o||document.hidden){a=_,d=requestAnimationFrame(h);return}const i=Math.min(1,(_-a)/1e3);a=_,e.lastTick=_,e.buds=e.buds.add(e.bps.mul(i)),e.total=e.total.add(e.bps.mul(i)),l+=i,f+=i,l>=.1&&(t.onTick(e),l=0),f>=r&&(t.onAutosave?.(e),f=0),d=requestAnimationFrame(h)};return d=requestAnimationFrame(h),()=>cancelAnimationFrame(d)}const jn=[{id:"seedling",name:{de:"Keimling",en:"Seedling"},description:{de:"Dein erster Keimling steckt voller Potenziale.",en:"Your first sprout brimming with promise."},baseCost:15,costFactor:1.15,bps:.1,icon:"/icons/items/item-seedling.svg"},{id:"planter",name:{de:"Topf",en:"Planter"},description:{de:"Mehr Erde, mehr Wurzeln, mehr Wachstum.",en:"More soil, roots, and growth."},baseCost:100,costFactor:1.17,bps:1,icon:"/icons/items/item-planter.svg",unlock:{totalBuds:50}},{id:"grow_tent",name:{de:"Grow-Zelt",en:"Grow Tent"},description:{de:"Kontrollierte Umgebung für stabile Erträge.",en:"Controlled environment for steady yields."},baseCost:1100,costFactor:1.2,bps:8,icon:"/icons/items/item-grow-tent.svg",unlock:{totalBuds:500}},{id:"grow_light",name:{de:"LED-Licht",en:"Grow Light"},description:{de:"Vollspektrum-Licht boostet das Wachstum massiv.",en:"Full spectrum light massively boosts growth."},baseCost:12e3,costFactor:1.25,bps:47,icon:"/icons/items/item-grow-light.svg",unlock:{itemsOwned:{grow_tent:5}}},{id:"cultivator",name:{de:"Gärtner",en:"Cultivator"},description:{de:"Ein Profi kümmert sich um jede Pflanze.",en:"A professional takes care of each plant."},baseCost:13e4,costFactor:1.3,bps:260,icon:"/icons/items/item-cultivator.svg",unlock:{totalBuds:75e3}}],tt=new Map(jn.map(e=>[e.id,e])),Ct=[{id:"seedling_10",overlayIcon:"/achievements/badge-overlay-leaf.svg",name:{de:"Keimstarter",en:"Seed Starter"},description:{de:"Besitze 10 Keimlinge.",en:"Own 10 seedlings."},requirement:{itemsOwned:{seedling:10}},rewardMultiplier:1.02},{id:"planter_25",overlayIcon:"/achievements/badge-overlay-pot.svg",name:{de:"Topfmeister",en:"Pot Master"},description:{de:"Besitze 25 T�pfe.",en:"Own 25 planters."},requirement:{itemsOwned:{planter:25}},rewardMultiplier:1.03},{id:"harvest_1m",overlayIcon:"/achievements/badge-overlay-light.svg",name:{de:"Ernteprofi",en:"Harvest Hero"},description:{de:"Ernte insgesamt 1 Million Buds.",en:"Harvest a total of 1 million buds."},requirement:{totalBuds:1e6},rewardMultiplier:1.05}];new Map(Ct.map(e=>[e.id,e]));const Xn=[{id:"rich_soil",kind:"global",name:{de:"Reiche Erde",en:"Rich Soil"},description:{de:"Globale Produktion +25 %",en:"Global production +25%"},cost:2500,multiplier:1.25,icon:"/icons/upgrades/upgrade-global-bps.svg",requirement:{totalBuds:2e3}},{id:"precision_trim",kind:"click",name:{de:"Praeziser Trim",en:"Precision Trim"},description:{de:"Buds pro Klick verdoppelt.",en:"Doubles buds per click."},cost:15e3,multiplier:2,icon:"/icons/upgrades/upgrade-click-x2.svg",requirement:{totalBuds:1e4}},{id:"grow_light_lenses",kind:"building",appliesTo:"grow_light",name:{de:"Prismatische Linsen",en:"Prismatic Lenses"},description:{de:"LED-Lichter produzieren 2x Buds.",en:"Grow lights produce 2x buds."},cost:8e4,multiplier:2,icon:"/icons/upgrades/upgrade-light.svg",requirement:{itemsOwned:{grow_light:10}}}];new Map(Xn.map(e=>[e.id,e]));const dn=["K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","De"];function j(e,t={}){const{precision:n=2}=t;if(!e||!e.isFinite())return"0";if(e.lessThan(1e3))return e.toFixed(e.lessThan(10)?Math.min(n,2):0);let r=-1,o=new E(e);for(;o.greaterThanOrEqualTo(1e3)&&r<dn.length-1;)o=o.dividedBy(1e3),r+=1;const a=dn[r]??`e${e.log10().floor().toNumber()}`;return`${o.toFixed(n)}${a}`}function Yn(e){return e instanceof E?e:new E(e??0)}function Ki(...e){return e.reduce((t,n)=>t.add(Yn(n)),new E(0))}function Gi(e,t){return t.lessThanOrEqualTo(0)?null:Number(e.dividedBy(t).toFixed(2))}function nt(e,t){const n=new E(e.baseCost),r=new E(e.costFactor);return n.mul(r.pow(t))}function Ui(e,t){return nt(e,t+1)}function Wi(e,t){return t.unlock?t.unlock.totalBuds&&e.total.lessThan(t.unlock.totalBuds)?!1:t.unlock.itemsOwned?Object.entries(t.unlock.itemsOwned).every(([n,r])=>(e.items[n]??0)>=r):!0:!0}function $i(e){return jn.map(t=>{const n=e.items[t.id]??0,r=nt(t,n),o=Ui(t,n),a=new E(t.bps),l=Gi(r,a);return{definition:t,owned:n,cost:r,nextCost:o,formattedCost:j(r),formattedNextCost:j(o),bpsGain:a,payback:l,unlocked:Wi(e,t),affordable:e.buds.greaterThanOrEqualTo(r)}})}function Zn(e,t){const n=new E(e.costFactor),r=t.items[e.id]??0;let o=0,a=new E(0),l=nt(e,r);for(;t.buds.greaterThanOrEqualTo(a.add(l))&&o<999;)a=a.add(l),l=l.mul(n),o+=1;return o}function ji(e,t){return t===null||!Number.isFinite(t)?"—":F(e,"shop.payback",{seconds:t})}function Xi(e){return e.buds=e.buds.add(e.bpc),e.total=e.total.add(e.bpc),e.bpc}function Ee(e){const{globalMultiplier:t,buildingMultipliers:n,clickMultiplier:r}=Yi(e),o=Array.from(tt.entries()).map(([f,d])=>{const h=e.items[f]??0;if(!h)return new E(0);const _=n.get(f)??new E(1);return new E(d.bps).mul(h).mul(_)}),a=Zi(e),l=t.mul(a);e.bps=Ki(...o).mul(l),e.bpc=new E(1).mul(r).mul(l)}function pn(e,t,n=1){const r=tt.get(t);if(!r)return!1;const o=e.items[t]??0,a=new E(r.costFactor);let l=nt(r,o),f=new E(0);for(let d=0;d<n;d+=1)f=f.add(l),l=l.mul(a);return e.buds.lessThan(f)?!1:(e.buds=e.buds.sub(f),e.items[t]=o+n,Ee(e),Xe(e),!0)}function Xe(e){for(const t of Ct){if(e.achievements[t.id])continue;const n=!t.requirement.itemsOwned||Object.entries(t.requirement.itemsOwned).every(([o,a])=>(e.items[o]??0)>=a),r=!t.requirement.totalBuds||e.total.greaterThanOrEqualTo(t.requirement.totalBuds);n&&r&&(e.achievements[t.id]=!0)}Ee(e)}function Yi(e){const t=new Map;let n=new E(1),r=new E(1);for(const o of Xn){if(!e.upgrades[o.id])continue;const a=Yn(o.multiplier);if(o.kind==="global")n=n.mul(a);else if(o.kind==="click")r=r.mul(a);else if(o.kind==="building"&&o.appliesTo){const l=t.get(o.appliesTo)??new E(1);t.set(o.appliesTo,l.mul(a))}}return{globalMultiplier:n,buildingMultipliers:t,clickMultiplier:r}}function Zi(e){return Ct.reduce((t,n)=>!e.achievements[n.id]||!n.rewardMultiplier?t:t.mul(n.rewardMultiplier),new E(1))}var st={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var hn;function zi(){return hn||(hn=1,(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var i=this||n;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var s=this||n;if(i=parseFloat(i),s.ctx||_(),typeof i<"u"&&i>=0&&i<=1){if(s._volume=i,s._muted)return s;s.usingWebAudio&&s.masterGain.gain.setValueAtTime(i,n.ctx.currentTime);for(var u=0;u<s._howls.length;u++)if(!s._howls[u]._webAudio)for(var c=s._howls[u]._getSoundIds(),m=0;m<c.length;m++){var g=s._howls[u]._soundById(c[m]);g&&g._node&&(g._node.volume=g._volume*i)}return s}return s._volume},mute:function(i){var s=this||n;s.ctx||_(),s._muted=i,s.usingWebAudio&&s.masterGain.gain.setValueAtTime(i?0:s._volume,n.ctx.currentTime);for(var u=0;u<s._howls.length;u++)if(!s._howls[u]._webAudio)for(var c=s._howls[u]._getSoundIds(),m=0;m<c.length;m++){var g=s._howls[u]._soundById(c[m]);g&&g._node&&(g._node.muted=i?!0:g._muted)}return s},stop:function(){for(var i=this||n,s=0;s<i._howls.length;s++)i._howls[s].stop();return i},unload:function(){for(var i=this||n,s=i._howls.length-1;s>=0;s--)i._howls[s].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,_()),i},codecs:function(i){return(this||n)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||n;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var s=new Audio;typeof s.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var s=new Audio;s.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||n,s=null;try{s=typeof Audio<"u"?new Audio:null}catch{return i}if(!s||typeof s.canPlayType!="function")return i;var u=s.canPlayType("audio/mpeg;").replace(/^no$/,""),c=i._navigator?i._navigator.userAgent:"",m=c.match(/OPR\/(\d+)/g),g=m&&parseInt(m[0].split("/")[1],10)<33,p=c.indexOf("Safari")!==-1&&c.indexOf("Chrome")===-1,v=c.match(/Version\/(.*?) /),b=p&&v&&parseInt(v[1],10)<15;return i._codecs={mp3:!!(!g&&(u||s.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!u,opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(s.canPlayType('audio/wav; codecs="1"')||s.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!s.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(s.canPlayType("audio/x-m4b;")||s.canPlayType("audio/m4b;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!s.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(s.canPlayType("audio/x-flac;")||s.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||n;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var s=function(u){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var c=new Audio;c._unlocked=!0,i._releaseHtml5Audio(c)}catch{i.noAudio=!0;break}for(var m=0;m<i._howls.length;m++)if(!i._howls[m]._webAudio)for(var g=i._howls[m]._getSoundIds(),p=0;p<g.length;p++){var v=i._howls[m]._soundById(g[p]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}i._autoResume();var b=i.ctx.createBufferSource();b.buffer=i._scratchBuffer,b.connect(i.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),b.onended=function(){b.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchend",s,!0),document.removeEventListener("click",s,!0),document.removeEventListener("keydown",s,!0);for(var A=0;A<i._howls.length;A++)i._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("click",s,!0),document.addEventListener("keydown",s,!0),i}},_obtainHtml5Audio:function(){var i=this||n;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var s=new Audio().play();return s&&typeof Promise<"u"&&(s instanceof Promise||typeof s.then=="function")&&s.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var s=this||n;return i._unlocked&&s._html5AudioPool.push(i),s},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!n.usingWebAudio)){for(var s=0;s<i._howls.length;s++)if(i._howls[s]._webAudio){for(var u=0;u<i._howls[s]._sounds.length;u++)if(!i._howls[s]._sounds[u]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var c=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(c,c)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!n.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var s=0;s<i._howls.length;s++)i._howls[s]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var n=new t,r=function(i){var s=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}s.init(i)};r.prototype={init:function(i){var s=this;return n.ctx||_(),s._autoplay=i.autoplay||!1,s._format=typeof i.format!="string"?i.format:[i.format],s._html5=i.html5||!1,s._muted=i.mute||!1,s._loop=i.loop||!1,s._pool=i.pool||5,s._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,s._rate=i.rate||1,s._sprite=i.sprite||{},s._src=typeof i.src!="string"?i.src:[i.src],s._volume=i.volume!==void 0?i.volume:1,s._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},s._duration=0,s._state="unloaded",s._sounds=[],s._endTimers={},s._queue=[],s._playLock=!1,s._onend=i.onend?[{fn:i.onend}]:[],s._onfade=i.onfade?[{fn:i.onfade}]:[],s._onload=i.onload?[{fn:i.onload}]:[],s._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],s._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],s._onpause=i.onpause?[{fn:i.onpause}]:[],s._onplay=i.onplay?[{fn:i.onplay}]:[],s._onstop=i.onstop?[{fn:i.onstop}]:[],s._onmute=i.onmute?[{fn:i.onmute}]:[],s._onvolume=i.onvolume?[{fn:i.onvolume}]:[],s._onrate=i.onrate?[{fn:i.onrate}]:[],s._onseek=i.onseek?[{fn:i.onseek}]:[],s._onunlock=i.onunlock?[{fn:i.onunlock}]:[],s._onresume=[],s._webAudio=n.usingWebAudio&&!s._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(s),s._autoplay&&s._queue.push({event:"play",action:function(){s.play()}}),s._preload&&s._preload!=="none"&&s.load(),s},load:function(){var i=this,s=null;if(n.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var u=0;u<i._src.length;u++){var c,m;if(i._format&&i._format[u])c=i._format[u];else{if(m=i._src[u],typeof m!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}c=/^data:audio\/([^;,]+);/i.exec(m),c||(c=/\.([^.]+)$/.exec(m.split("?",1)[0])),c&&(c=c[1].toLowerCase())}if(c||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),c&&n.codecs(c)){s=i._src[u];break}}if(!s){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=s,i._state="loading",window.location.protocol==="https:"&&s.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new o(i),i._webAudio&&l(i),i},play:function(i,s){var u=this,c=null;if(typeof i=="number")c=i,i=null;else{if(typeof i=="string"&&u._state==="loaded"&&!u._sprite[i])return null;if(typeof i>"u"&&(i="__default",!u._playLock)){for(var m=0,g=0;g<u._sounds.length;g++)u._sounds[g]._paused&&!u._sounds[g]._ended&&(m++,c=u._sounds[g]._id);m===1?i=null:c=null}}var p=c?u._soundById(c):u._inactiveSound();if(!p)return null;if(c&&!i&&(i=p._sprite||"__default"),u._state!=="loaded"){p._sprite=i,p._ended=!1;var v=p._id;return u._queue.push({event:"play",action:function(){u.play(v)}}),v}if(c&&!p._paused)return s||u._loadQueue("play"),p._id;u._webAudio&&n._autoResume();var b=Math.max(0,p._seek>0?p._seek:u._sprite[i][0]/1e3),A=Math.max(0,(u._sprite[i][0]+u._sprite[i][1])/1e3-b),w=A*1e3/Math.abs(p._rate),M=u._sprite[i][0]/1e3,k=(u._sprite[i][0]+u._sprite[i][1])/1e3;p._sprite=i,p._ended=!1;var x=function(){p._paused=!1,p._seek=b,p._start=M,p._stop=k,p._loop=!!(p._loop||u._sprite[i][2])};if(b>=k){u._ended(p);return}var T=p._node;if(u._webAudio){var I=function(){u._playLock=!1,x(),u._refreshBuffer(p);var Y=p._muted||u._muted?0:p._volume;T.gain.setValueAtTime(Y,n.ctx.currentTime),p._playStart=n.ctx.currentTime,typeof T.bufferSource.start>"u"?p._loop?T.bufferSource.noteGrainOn(0,b,86400):T.bufferSource.noteGrainOn(0,b,A):p._loop?T.bufferSource.start(0,b,86400):T.bufferSource.start(0,b,A),w!==1/0&&(u._endTimers[p._id]=setTimeout(u._ended.bind(u,p),w)),s||setTimeout(function(){u._emit("play",p._id),u._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?I():(u._playLock=!0,u.once("resume",I),u._clearTimer(p._id))}else{var D=function(){T.currentTime=b,T.muted=p._muted||u._muted||n._muted||T.muted,T.volume=p._volume*n.volume(),T.playbackRate=p._rate;try{var Y=T.play();if(Y&&typeof Promise<"u"&&(Y instanceof Promise||typeof Y.then=="function")?(u._playLock=!0,x(),Y.then(function(){u._playLock=!1,T._unlocked=!0,s?u._loadQueue():u._emit("play",p._id)}).catch(function(){u._playLock=!1,u._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):s||(u._playLock=!1,x(),u._emit("play",p._id)),T.playbackRate=p._rate,T.paused){u._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||p._loop?u._endTimers[p._id]=setTimeout(u._ended.bind(u,p),w):(u._endTimers[p._id]=function(){u._ended(p),T.removeEventListener("ended",u._endTimers[p._id],!1)},T.addEventListener("ended",u._endTimers[p._id],!1))}catch(Qt){u._emit("playerror",p._id,Qt)}};T.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(T.src=u._src,T.load());var ge=window&&window.ejecta||!T.readyState&&n._navigator.isCocoonJS;if(T.readyState>=3||ge)D();else{u._playLock=!0,u._state="loading";var X=function(){u._state="loaded",D(),T.removeEventListener(n._canPlayEvent,X,!1)};T.addEventListener(n._canPlayEvent,X,!1),u._clearTimer(p._id)}}return p._id},pause:function(i){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"pause",action:function(){s.pause(i)}}),s;for(var u=s._getSoundIds(i),c=0;c<u.length;c++){s._clearTimer(u[c]);var m=s._soundById(u[c]);if(m&&!m._paused&&(m._seek=s.seek(u[c]),m._rateSeek=0,m._paused=!0,s._stopFade(u[c]),m._node))if(s._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),s._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||s._emit("pause",m?m._id:null)}return s},stop:function(i,s){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(i)}}),u;for(var c=u._getSoundIds(i),m=0;m<c.length;m++){u._clearTimer(c[m]);var g=u._soundById(c[m]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,u._stopFade(c[m]),g._node&&(u._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),u._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&u._clearSound(g._node))),s||u._emit("stop",g._id))}return u},mute:function(i,s){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(i,s)}}),u;if(typeof s>"u")if(typeof i=="boolean")u._muted=i;else return u._muted;for(var c=u._getSoundIds(s),m=0;m<c.length;m++){var g=u._soundById(c[m]);g&&(g._muted=i,g._interval&&u._stopFade(g._id),u._webAudio&&g._node?g._node.gain.setValueAtTime(i?0:g._volume,n.ctx.currentTime):g._node&&(g._node.muted=n._muted?!0:i),u._emit("mute",g._id))}return u},volume:function(){var i=this,s=arguments,u,c;if(s.length===0)return i._volume;if(s.length===1||s.length===2&&typeof s[1]>"u"){var m=i._getSoundIds(),g=m.indexOf(s[0]);g>=0?c=parseInt(s[0],10):u=parseFloat(s[0])}else s.length>=2&&(u=parseFloat(s[0]),c=parseInt(s[1],10));var p;if(typeof u<"u"&&u>=0&&u<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,s)}}),i;typeof c>"u"&&(i._volume=u),c=i._getSoundIds(c);for(var v=0;v<c.length;v++)p=i._soundById(c[v]),p&&(p._volume=u,s[2]||i._stopFade(c[v]),i._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(u,n.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=u*n.volume()),i._emit("volume",p._id))}else return p=c?i._soundById(c):i._sounds[0],p?p._volume:0;return i},fade:function(i,s,u,c){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(i,s,u,c)}}),m;i=Math.min(Math.max(0,parseFloat(i)),1),s=Math.min(Math.max(0,parseFloat(s)),1),u=parseFloat(u),m.volume(i,c);for(var g=m._getSoundIds(c),p=0;p<g.length;p++){var v=m._soundById(g[p]);if(v){if(c||m._stopFade(g[p]),m._webAudio&&!v._muted){var b=n.ctx.currentTime,A=b+u/1e3;v._volume=i,v._node.gain.setValueAtTime(i,b),v._node.gain.linearRampToValueAtTime(s,A)}m._startFadeInterval(v,i,s,u,g[p],typeof c>"u")}}return m},_startFadeInterval:function(i,s,u,c,m,g){var p=this,v=s,b=u-s,A=Math.abs(b/.01),w=Math.max(4,A>0?c/A:c),M=Date.now();i._fadeTo=u,i._interval=setInterval(function(){var k=(Date.now()-M)/c;M=Date.now(),v+=b*k,v=Math.round(v*100)/100,b<0?v=Math.max(u,v):v=Math.min(u,v),p._webAudio?i._volume=v:p.volume(v,i._id,!0),g&&(p._volume=v),(u<s&&v<=u||u>s&&v>=u)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,p.volume(u,i._id),p._emit("fade",i._id))},w)},_stopFade:function(i){var s=this,u=s._soundById(i);return u&&u._interval&&(s._webAudio&&u._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(u._interval),u._interval=null,s.volume(u._fadeTo,i),u._fadeTo=null,s._emit("fade",i)),s},loop:function(){var i=this,s=arguments,u,c,m;if(s.length===0)return i._loop;if(s.length===1)if(typeof s[0]=="boolean")u=s[0],i._loop=u;else return m=i._soundById(parseInt(s[0],10)),m?m._loop:!1;else s.length===2&&(u=s[0],c=parseInt(s[1],10));for(var g=i._getSoundIds(c),p=0;p<g.length;p++)m=i._soundById(g[p]),m&&(m._loop=u,i._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=u,u&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,i.playing(g[p])&&(i.pause(g[p],!0),i.play(g[p],!0)))));return i},rate:function(){var i=this,s=arguments,u,c;if(s.length===0)c=i._sounds[0]._id;else if(s.length===1){var m=i._getSoundIds(),g=m.indexOf(s[0]);g>=0?c=parseInt(s[0],10):u=parseFloat(s[0])}else s.length===2&&(u=parseFloat(s[0]),c=parseInt(s[1],10));var p;if(typeof u=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,s)}}),i;typeof c>"u"&&(i._rate=u),c=i._getSoundIds(c);for(var v=0;v<c.length;v++)if(p=i._soundById(c[v]),p){i.playing(c[v])&&(p._rateSeek=i.seek(c[v]),p._playStart=i._webAudio?n.ctx.currentTime:p._playStart),p._rate=u,i._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(u,n.ctx.currentTime):p._node&&(p._node.playbackRate=u);var b=i.seek(c[v]),A=(i._sprite[p._sprite][0]+i._sprite[p._sprite][1])/1e3-b,w=A*1e3/Math.abs(p._rate);(i._endTimers[c[v]]||!p._paused)&&(i._clearTimer(c[v]),i._endTimers[c[v]]=setTimeout(i._ended.bind(i,p),w)),i._emit("rate",p._id)}}else return p=i._soundById(c),p?p._rate:i._rate;return i},seek:function(){var i=this,s=arguments,u,c;if(s.length===0)i._sounds.length&&(c=i._sounds[0]._id);else if(s.length===1){var m=i._getSoundIds(),g=m.indexOf(s[0]);g>=0?c=parseInt(s[0],10):i._sounds.length&&(c=i._sounds[0]._id,u=parseFloat(s[0]))}else s.length===2&&(u=parseFloat(s[0]),c=parseInt(s[1],10));if(typeof c>"u")return 0;if(typeof u=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,s)}}),i;var p=i._soundById(c);if(p)if(typeof u=="number"&&u>=0){var v=i.playing(c);v&&i.pause(c,!0),p._seek=u,p._ended=!1,i._clearTimer(c),!i._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=u);var b=function(){v&&i.play(c,!0),i._emit("seek",c)};if(v&&!i._webAudio){var A=function(){i._playLock?setTimeout(A,0):b()};setTimeout(A,0)}else b()}else if(i._webAudio){var w=i.playing(c)?n.ctx.currentTime-p._playStart:0,M=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+(M+w*Math.abs(p._rate))}else return p._node.currentTime;return i},playing:function(i){var s=this;if(typeof i=="number"){var u=s._soundById(i);return u?!u._paused:!1}for(var c=0;c<s._sounds.length;c++)if(!s._sounds[c]._paused)return!0;return!1},duration:function(i){var s=this,u=s._duration,c=s._soundById(i);return c&&(u=s._sprite[c._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var i=this,s=i._sounds,u=0;u<s.length;u++)s[u]._paused||i.stop(s[u]._id),i._webAudio||(i._clearSound(s[u]._node),s[u]._node.removeEventListener("error",s[u]._errorFn,!1),s[u]._node.removeEventListener(n._canPlayEvent,s[u]._loadFn,!1),s[u]._node.removeEventListener("ended",s[u]._endFn,!1),n._releaseHtml5Audio(s[u]._node)),delete s[u]._node,i._clearTimer(s[u]._id);var c=n._howls.indexOf(i);c>=0&&n._howls.splice(c,1);var m=!0;for(u=0;u<n._howls.length;u++)if(n._howls[u]._src===i._src||i._src.indexOf(n._howls[u]._src)>=0){m=!1;break}return a&&m&&delete a[i._src],n.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,s,u,c){var m=this,g=m["_on"+i];return typeof s=="function"&&g.push(c?{id:u,fn:s,once:c}:{id:u,fn:s}),m},off:function(i,s,u){var c=this,m=c["_on"+i],g=0;if(typeof s=="number"&&(u=s,s=null),s||u)for(g=0;g<m.length;g++){var p=u===m[g].id;if(s===m[g].fn&&p||!s&&p){m.splice(g,1);break}}else if(i)c["_on"+i]=[];else{var v=Object.keys(c);for(g=0;g<v.length;g++)v[g].indexOf("_on")===0&&Array.isArray(c[v[g]])&&(c[v[g]]=[])}return c},once:function(i,s,u){var c=this;return c.on(i,s,u,1),c},_emit:function(i,s,u){for(var c=this,m=c["_on"+i],g=m.length-1;g>=0;g--)(!m[g].id||m[g].id===s||i==="load")&&(setTimeout((function(p){p.call(this,s,u)}).bind(c,m[g].fn),0),m[g].once&&c.off(i,m[g].fn,m[g].id));return c._loadQueue(i),c},_loadQueue:function(i){var s=this;if(s._queue.length>0){var u=s._queue[0];u.event===i&&(s._queue.shift(),s._loadQueue()),i||u.action()}return s},_ended:function(i){var s=this,u=i._sprite;if(!s._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(s._ended.bind(s,i),100),s;var c=!!(i._loop||s._sprite[u][2]);if(s._emit("end",i._id),!s._webAudio&&c&&s.stop(i._id,!0).play(i._id),s._webAudio&&c){s._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=n.ctx.currentTime;var m=(i._stop-i._start)*1e3/Math.abs(i._rate);s._endTimers[i._id]=setTimeout(s._ended.bind(s,i),m)}return s._webAudio&&!c&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,s._clearTimer(i._id),s._cleanBuffer(i._node),n._autoSuspend()),!s._webAudio&&!c&&s.stop(i._id,!0),s},_clearTimer:function(i){var s=this;if(s._endTimers[i]){if(typeof s._endTimers[i]!="function")clearTimeout(s._endTimers[i]);else{var u=s._soundById(i);u&&u._node&&u._node.removeEventListener("ended",s._endTimers[i],!1)}delete s._endTimers[i]}return s},_soundById:function(i){for(var s=this,u=0;u<s._sounds.length;u++)if(i===s._sounds[u]._id)return s._sounds[u];return null},_inactiveSound:function(){var i=this;i._drain();for(var s=0;s<i._sounds.length;s++)if(i._sounds[s]._ended)return i._sounds[s].reset();return new o(i)},_drain:function(){var i=this,s=i._pool,u=0,c=0;if(!(i._sounds.length<s)){for(c=0;c<i._sounds.length;c++)i._sounds[c]._ended&&u++;for(c=i._sounds.length-1;c>=0;c--){if(u<=s)return;i._sounds[c]._ended&&(i._webAudio&&i._sounds[c]._node&&i._sounds[c]._node.disconnect(0),i._sounds.splice(c,1),u--)}}},_getSoundIds:function(i){var s=this;if(typeof i>"u"){for(var u=[],c=0;c<s._sounds.length;c++)u.push(s._sounds[c]._id);return u}else return[i]},_refreshBuffer:function(i){var s=this;return i._node.bufferSource=n.ctx.createBufferSource(),i._node.bufferSource.buffer=a[s._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,n.ctx.currentTime),s},_cleanBuffer:function(i){var s=this,u=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!i.bufferSource)return s;if(n._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),u))try{i.bufferSource.buffer=n._scratchBuffer}catch{}return i.bufferSource=null,s},_clearSound:function(i){var s=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);s||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(i){this._parent=i,this.init()};o.prototype={init:function(){var i=this,s=i._parent;return i._muted=s._muted,i._loop=s._loop,i._volume=s._volume,i._rate=s._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,s._sounds.push(i),i.create(),i},create:function(){var i=this,s=i._parent,u=n._muted||i._muted||i._parent._muted?0:i._volume;return s._webAudio?(i._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),i._node.gain.setValueAtTime(u,n.ctx.currentTime),i._node.paused=!0,i._node.connect(n.masterGain)):n.noAudio||(i._node=n._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(n._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=s._src,i._node.preload=s._preload===!0?"auto":s._preload,i._node.volume=u*n.volume(),i._node.load()),i},reset:function(){var i=this,s=i._parent;return i._muted=s._muted,i._loop=s._loop,i._volume=s._volume,i._rate=s._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,s=i._parent;s._duration=Math.ceil(i._node.duration*10)/10,Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue()),i._node.removeEventListener(n._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,s=i._parent;s._duration===1/0&&(s._duration=Math.ceil(i._node.duration*10)/10,s._sprite.__default[1]===1/0&&(s._sprite.__default[1]=s._duration*1e3),s._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var a={},l=function(i){var s=i._src;if(a[s]){i._duration=a[s].duration,h(i);return}if(/^data:[^;]+;base64,/.test(s)){for(var u=atob(s.split(",")[1]),c=new Uint8Array(u.length),m=0;m<u.length;++m)c[m]=u.charCodeAt(m);d(c.buffer,i)}else{var g=new XMLHttpRequest;g.open(i._xhr.method,s,!0),g.withCredentials=i._xhr.withCredentials,g.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(p){g.setRequestHeader(p,i._xhr.headers[p])}),g.onload=function(){var p=(g.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}d(g.response,i)},g.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete a[s],i.load())},f(g)}},f=function(i){try{i.send()}catch{i.onerror()}},d=function(i,s){var u=function(){s._emit("loaderror",null,"Decoding audio data failed.")},c=function(m){m&&s._sounds.length>0?(a[s._src]=m,h(s,m)):u()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(i).then(c).catch(u):n.ctx.decodeAudioData(i,c,u)},h=function(i,s){s&&!i._duration&&(i._duration=s.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},_=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),s=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=s?parseInt(s[1],10):null;if(i&&u&&u<9){var c=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!c&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof be<"u"?(be.HowlerGlobal=t,be.Howler=n,be.Howl=r,be.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,o=typeof o!="number"?a._pos[2]:o,typeof n=="number")a._pos=[n,r,o],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(n,r,o,a,l,f){var d=this;if(!d.ctx||!d.ctx.listener)return d;var h=d._orientation;if(r=typeof r!="number"?h[1]:r,o=typeof o!="number"?h[2]:o,a=typeof a!="number"?h[3]:a,l=typeof l!="number"?h[4]:l,f=typeof f!="number"?h[5]:f,typeof n=="number")d._orientation=[n,r,o,a,l,f],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(n,r,o,a,l,f);else return h;return d},Howl.prototype.init=(function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var l=o._getSoundIds(r),f=0;f<l.length;f++){var d=o._soundById(l[f]);if(d)if(typeof n=="number")d._stereo=n,d._pos=[n,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&t(d,a),a==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(n,0,0):d._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",d._id);else return d._stereo}return o},Howl.prototype.pos=function(n,r,o,a){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(n,r,o,a)}}),l;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof a>"u")if(typeof n=="number")l._pos=[n,r,o];else return l._pos;for(var f=l._getSoundIds(a),d=0;d<f.length;d++){var h=l._soundById(f[d]);if(h)if(typeof n=="number")h._pos=[n,r,o],h._node&&((!h._panner||h._panner.pan)&&t(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setPosition(n,r,o)),l._emit("pos",h._id);else return h._pos}return l},Howl.prototype.orientation=function(n,r,o,a){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(n,r,o,a)}}),l;if(r=typeof r!="number"?l._orientation[1]:r,o=typeof o!="number"?l._orientation[2]:o,typeof a>"u")if(typeof n=="number")l._orientation=[n,r,o];else return l._orientation;for(var f=l._getSoundIds(a),d=0;d<f.length;d++){var h=l._soundById(f[d]);if(h)if(typeof n=="number")h._orientation=[n,r,o],h._node&&(h._panner||(h._pos||(h._pos=l._pos||[0,0,-.5]),t(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setOrientation(n,r,o)),l._emit("orientation",h._id);else return h._orientation}return l},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,a,l;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof a>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return l=n._soundById(parseInt(r[0],10)),l?l._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],a=parseInt(r[1],10));for(var f=n._getSoundIds(a),d=0;d<f.length;d++)if(l=n._soundById(f[d]),l){var h=l._pannerAttr;h={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:h.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:h.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:h.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:h.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:h.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:h.panningModel};var _=l._panner;_||(l._pos||(l._pos=n._pos||[0,0,-.5]),t(l,"spatial"),_=l._panner),_.coneInnerAngle=h.coneInnerAngle,_.coneOuterAngle=h.coneOuterAngle,_.coneOuterGain=h.coneOuterGain,_.distanceModel=h.distanceModel,_.maxDistance=h.maxDistance,_.refDistance=h.refDistance,_.rolloffFactor=h.rolloffFactor,_.panningModel=h.panningModel}return n},Sound.prototype.init=(function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}})(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(st)),st}var we=zi();function Qi(e){let t=e;we.Howler.mute(t);const n=new we.Howl({src:[mn(420,130)],volume:.45}),r=new we.Howl({src:[mn(540,180)],volume:.5});return{playClick(){t||n.play()},playPurchase(){t||r.play()},toggleMute(){return t=!t,we.Howler.mute(t),fn(t),t},setMuted(a){t=a,we.Howler.mute(t),fn(t)},isMuted(){return t}}}function mn(e,t){const r=Math.floor(t/1e3*44100),o=2,a=o,l=44100*a,f=new ArrayBuffer(44+r*o),d=new DataView(f);Re(d,0,"RIFF"),d.setUint32(4,36+r*o,!0),Re(d,8,"WAVE"),Re(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,1,!0),d.setUint16(22,1,!0),d.setUint32(24,44100,!0),d.setUint32(28,l,!0),d.setUint16(32,a,!0),d.setUint16(34,16,!0),Re(d,36,"data"),d.setUint32(40,r*o,!0);for(let h=0;h<r;h+=1){const _=h/44100,i=Math.exp(-4*_),s=Math.sin(2*Math.PI*e*_)*i*.75;d.setInt16(44+h*o,Math.max(-1,Math.min(1,s))*32767,!0)}return`data:audio/wav;base64,${Ji(new Uint8Array(f))}`}function Re(e,t,n){for(let r=0;r<n.length;r+=1)e.setUint8(t+r,n.charCodeAt(r))}function Ji(e){let t="";for(let r=0;r<e.length;r+=32768){const o=e.subarray(r,r+32768);t+=String.fromCharCode(...o)}return btoa(t)}function eo(e,t){e.indexOf(t)===-1&&e.push(t)}function zn(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ie=(e,t,n)=>n>t?t:n<e?e:n;let Ft=()=>{};const G={},Qn=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function to(e){return typeof e=="object"&&e!==null}const Jn=e=>/^0[^.\s]+$/u.test(e);function It(e){let t;return()=>(t===void 0&&(t=e()),t)}const fe=e=>e,no=(e,t)=>n=>t(e(n)),Pt=(...e)=>e.reduce(no),Ot=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class er{constructor(){this.subscriptions=[]}add(t){return eo(this.subscriptions,t),()=>zn(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const q=e=>e*1e3,K=e=>e/1e3;function tr(e,t){return t?e*(1e3/t):0}const ro=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},nr=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,io=1e-7,oo=12;function so(e,t,n,r,o){let a,l,f=0;do l=t+(n-t)/2,a=nr(l,r,o)-e,a>0?n=l:t=l;while(Math.abs(a)>io&&++f<oo);return l}function Fe(e,t,n,r){if(e===t&&n===r)return fe;const o=a=>so(a,0,1,e,n);return a=>a===0||a===1?a:nr(o(a),t,r)}const rr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ir=e=>t=>1-e(1-t),or=Fe(.33,1.53,.69,.99),Dt=ir(or),sr=rr(Dt),ar=e=>(e*=2)<1?.5*Dt(e):.5*(2-Math.pow(2,-10*(e-1))),Lt=e=>1-Math.sin(Math.acos(e)),ao=ir(Lt),ur=rr(Lt),uo=Fe(.42,0,1,1),lo=Fe(0,0,.58,1),lr=Fe(.42,0,.58,1),cr=e=>Array.isArray(e)&&typeof e[0]!="number";function fr(e,t){return cr(e)?e[ro(0,e.length,t)]:e}const dr=e=>Array.isArray(e)&&typeof e[0]=="number",co={linear:fe,easeIn:uo,easeInOut:lr,easeOut:lo,circIn:Lt,circInOut:ur,circOut:ao,backIn:Dt,backInOut:sr,backOut:or,anticipate:ar},fo=e=>typeof e=="string",gn=e=>{if(dr(e)){Ft(e.length===4);const[t,n,r,o]=e;return Fe(t,n,r,o)}else if(fo(e))return co[e];return e},qe=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function po(e,t){let n=new Set,r=new Set,o=!1,a=!1;const l=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(_){l.has(_)&&(h.schedule(_),e()),_(f)}const h={schedule:(_,i=!1,s=!1)=>{const c=s&&o?n:r;return i&&l.add(_),c.has(_)||c.add(_),_},cancel:_=>{r.delete(_),l.delete(_)},process:_=>{if(f=_,o){a=!0;return}o=!0,[n,r]=[r,n],n.forEach(d),n.clear(),o=!1,a&&(a=!1,h.process(_))}};return h}const ho=40;function pr(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=qe.reduce((b,A)=>(b[A]=po(a),b),{}),{setup:f,read:d,resolveKeyframes:h,preUpdate:_,update:i,preRender:s,render:u,postRender:c}=l,m=()=>{const b=G.useManualTiming?o.timestamp:performance.now();n=!1,G.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(b-o.timestamp,ho),1)),o.timestamp=b,o.isProcessing=!0,f.process(o),d.process(o),h.process(o),_.process(o),i.process(o),s.process(o),u.process(o),c.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,o.isProcessing||e(m)};return{schedule:qe.reduce((b,A)=>{const w=l[A];return b[A]=(M,k=!1,x=!1)=>(n||g(),w.schedule(M,k,x)),b},{}),cancel:b=>{for(let A=0;A<qe.length;A++)l[qe[A]].cancel(b)},state:o,steps:l}}const{schedule:U,cancel:ht,state:Ye}=pr(typeof requestAnimationFrame<"u"?requestAnimationFrame:fe,!0);let Ue;function mo(){Ue=void 0}const B={now:()=>(Ue===void 0&&B.set(Ye.isProcessing||G.useManualTiming?Ye.timestamp:performance.now()),Ue),set:e=>{Ue=e,queueMicrotask(mo)}},hr=e=>t=>typeof t=="string"&&t.startsWith(e),mr=hr("--"),go=hr("var(--"),Bt=e=>go(e)?_o.test(e.split("/*")[0].trim()):!1,_o=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,de={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ke={...de,transform:e=>ie(0,1,e)},He={...de,default:1},xe=e=>Math.round(e*1e5)/1e5,Rt=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yo(e){return e==null}const vo=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qt=(e,t)=>n=>!!(typeof n=="string"&&vo.test(n)&&n.startsWith(e)||t&&!yo(n)&&Object.prototype.hasOwnProperty.call(n,t)),gr=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,a,l,f]=r.match(Rt);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(l),alpha:f!==void 0?parseFloat(f):1}},bo=e=>ie(0,255,e),at={...de,transform:e=>Math.round(bo(e))},z={test:qt("rgb","red"),parse:gr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+at.transform(e)+", "+at.transform(t)+", "+at.transform(n)+", "+xe(ke.transform(r))+")"};function wo(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const mt={test:qt("#"),parse:wo,transform:z.transform},Ie=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$=Ie("deg"),ae=Ie("%"),S=Ie("px"),To=Ie("vh"),Ao=Ie("vw"),_n={...ae,parse:e=>ae.parse(e)/100,transform:e=>ae.transform(e*100)},se={test:qt("hsl","hue"),parse:gr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ae.transform(xe(t))+", "+ae.transform(xe(n))+", "+xe(ke.transform(r))+")"},C={test:e=>z.test(e)||mt.test(e)||se.test(e),parse:e=>z.test(e)?z.parse(e):se.test(e)?se.parse(e):mt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?z.transform(e):se.transform(e),getAnimatableNone:e=>{const t=C.parse(e);return t.alpha=0,C.transform(t)}},xo=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function So(e){return isNaN(e)&&typeof e=="string"&&(e.match(Rt)?.length||0)+(e.match(xo)?.length||0)>0}const _r="number",yr="color",Mo="var",Eo="var(",yn="${}",ko=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ve(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const f=t.replace(ko,d=>(C.test(d)?(r.color.push(a),o.push(yr),n.push(C.parse(d))):d.startsWith(Eo)?(r.var.push(a),o.push(Mo),n.push(d)):(r.number.push(a),o.push(_r),n.push(parseFloat(d))),++a,yn)).split(yn);return{values:n,split:f,indexes:r,types:o}}function vr(e){return Ve(e).values}function br(e){const{split:t,types:n}=Ve(e),r=t.length;return o=>{let a="";for(let l=0;l<r;l++)if(a+=t[l],o[l]!==void 0){const f=n[l];f===_r?a+=xe(o[l]):f===yr?a+=C.transform(o[l]):a+=o[l]}return a}}const Vo=e=>typeof e=="number"?0:C.test(e)?C.getAnimatableNone(e):e;function No(e){const t=vr(e);return br(e)(t.map(Vo))}const pe={test:So,parse:vr,createTransformer:br,getAnimatableNone:No};function ut(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Co({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,a=0,l=0;if(!t)o=a=l=n;else{const f=n<.5?n*(1+t):n+t-n*t,d=2*n-f;o=ut(d,f,e+1/3),a=ut(d,f,e),l=ut(d,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ze(e,t){return n=>n>0?t:e}const Pe=(e,t,n)=>e+(t-e)*n,lt=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Fo=[mt,z,se],Io=e=>Fo.find(t=>t.test(e));function vn(e){const t=Io(e);if(!t)return!1;let n=t.parse(e);return t===se&&(n=Co(n)),n}const bn=(e,t)=>{const n=vn(e),r=vn(t);if(!n||!r)return Ze(e,t);const o={...n};return a=>(o.red=lt(n.red,r.red,a),o.green=lt(n.green,r.green,a),o.blue=lt(n.blue,r.blue,a),o.alpha=Pe(n.alpha,r.alpha,a),z.transform(o))},gt=new Set(["none","hidden"]);function Po(e,t){return gt.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Oo(e,t){return n=>Pe(e,t,n)}function Ht(e){return typeof e=="number"?Oo:typeof e=="string"?Bt(e)?Ze:C.test(e)?bn:Bo:Array.isArray(e)?wr:typeof e=="object"?C.test(e)?bn:Do:Ze}function wr(e,t){const n=[...e],r=n.length,o=e.map((a,l)=>Ht(a)(a,t[l]));return a=>{for(let l=0;l<r;l++)n[l]=o[l](a);return n}}function Do(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Ht(e[o])(e[o],t[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}}function Lo(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],l=e.indexes[a][r[a]],f=e.values[l]??0;n[o]=f,r[a]++}return n}const Bo=(e,t)=>{const n=pe.createTransformer(t),r=Ve(e),o=Ve(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?gt.has(e)&&!o.values.length||gt.has(t)&&!r.values.length?Po(e,t):Pt(wr(Lo(r,o),o.values),n):Ze(e,t)};function Tr(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Pe(e,t,n):Ht(e)(e,t)}const Ro=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>U.update(t,n),stop:()=>ht(t),now:()=>Ye.isProcessing?Ye.timestamp:B.now()}},Ar=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let a=0;a<o;a++)r+=Math.round(e(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ze=2e4;function Kt(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ze;)t+=n,r=e.next(t);return t>=ze?1/0:t}function xr(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(Kt(r),ze);return{type:"keyframes",ease:a=>r.next(o*a).value/t,duration:K(o)}}const qo=5;function Sr(e,t,n){const r=Math.max(t-qo,0);return tr(n-e(r),t-r)}const N={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ct=.001;function Ho({duration:e=N.duration,bounce:t=N.bounce,velocity:n=N.velocity,mass:r=N.mass}){let o,a,l=1-t;l=ie(N.minDamping,N.maxDamping,l),e=ie(N.minDuration,N.maxDuration,K(e)),l<1?(o=h=>{const _=h*l,i=_*e,s=_-n,u=_t(h,l),c=Math.exp(-i);return ct-s/u*c},a=h=>{const i=h*l*e,s=i*n+n,u=Math.pow(l,2)*Math.pow(h,2)*e,c=Math.exp(-i),m=_t(Math.pow(h,2),l);return(-o(h)+ct>0?-1:1)*((s-u)*c)/m}):(o=h=>{const _=Math.exp(-h*e),i=(h-n)*e+1;return-ct+_*i},a=h=>{const _=Math.exp(-h*e),i=(n-h)*(e*e);return _*i});const f=5/e,d=Go(o,a,f);if(e=q(e),isNaN(d))return{stiffness:N.stiffness,damping:N.damping,duration:e};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const Ko=12;function Go(e,t,n){let r=n;for(let o=1;o<Ko;o++)r=r-e(r)/t(r);return r}function _t(e,t){return e*Math.sqrt(1-t*t)}const Uo=["duration","bounce"],Wo=["stiffness","damping","mass"];function wn(e,t){return t.some(n=>e[n]!==void 0)}function $o(e){let t={velocity:N.velocity,stiffness:N.stiffness,damping:N.damping,mass:N.mass,isResolvedFromDuration:!1,...e};if(!wn(e,Wo)&&wn(e,Uo))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,a=2*ie(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:N.mass,stiffness:o,damping:a}}else{const n=Ho(e);t={...t,...n,mass:N.mass},t.isResolvedFromDuration=!0}return t}function ce(e=N.visualDuration,t=N.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:d,damping:h,mass:_,duration:i,velocity:s,isResolvedFromDuration:u}=$o({...n,velocity:-K(n.velocity||0)}),c=s||0,m=h/(2*Math.sqrt(d*_)),g=l-a,p=K(Math.sqrt(d/_)),v=Math.abs(g)<5;r||(r=v?N.restSpeed.granular:N.restSpeed.default),o||(o=v?N.restDelta.granular:N.restDelta.default);let b;if(m<1){const w=_t(p,m);b=M=>{const k=Math.exp(-m*p*M);return l-k*((c+m*p*g)/w*Math.sin(w*M)+g*Math.cos(w*M))}}else if(m===1)b=w=>l-Math.exp(-p*w)*(g+(c+p*g)*w);else{const w=p*Math.sqrt(m*m-1);b=M=>{const k=Math.exp(-m*p*M),x=Math.min(w*M,300);return l-k*((c+m*p*g)*Math.sinh(x)+w*g*Math.cosh(x))/w}}const A={calculatedDuration:u&&i||null,next:w=>{const M=b(w);if(u)f.done=w>=i;else{let k=w===0?c:0;m<1&&(k=w===0?q(c):Sr(b,w,M));const x=Math.abs(k)<=r,T=Math.abs(l-M)<=o;f.done=x&&T}return f.value=f.done?l:M,f},toString:()=>{const w=Math.min(Kt(A),ze),M=Ar(k=>A.next(w*k).value,w,30);return w+"ms "+M},toTransition:()=>{}};return A}ce.applyToOptions=e=>{const t=xr(e,100,ce);return e.ease=t.ease,e.duration=q(t.duration),e.type="keyframes",e};function yt({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:f,max:d,restDelta:h=.5,restSpeed:_}){const i=e[0],s={done:!1,value:i},u=x=>f!==void 0&&x<f||d!==void 0&&x>d,c=x=>f===void 0?d:d===void 0||Math.abs(f-x)<Math.abs(d-x)?f:d;let m=n*t;const g=i+m,p=l===void 0?g:l(g);p!==g&&(m=p-i);const v=x=>-m*Math.exp(-x/r),b=x=>p+v(x),A=x=>{const T=v(x),I=b(x);s.done=Math.abs(T)<=h,s.value=s.done?p:I};let w,M;const k=x=>{u(s.value)&&(w=x,M=ce({keyframes:[s.value,c(s.value)],velocity:Sr(b,x,s.value),damping:o,stiffness:a,restDelta:h,restSpeed:_}))};return k(0),{calculatedDuration:null,next:x=>{let T=!1;return!M&&w===void 0&&(T=!0,A(x),k(x)),w!==void 0&&x>=w?M.next(x-w):(!T&&A(x),s)}}}function jo(e,t,n){const r=[],o=n||G.mix||Tr,a=e.length-1;for(let l=0;l<a;l++){let f=o(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||fe:t;f=Pt(d,f)}r.push(f)}return r}function Xo(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;if(Ft(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=jo(t,r,o),d=f.length,h=_=>{if(l&&_<e[0])return t[0];let i=0;if(d>1)for(;i<e.length-2&&!(_<e[i+1]);i++);const s=Ot(e[i],e[i+1],_);return f[i](s)};return n?_=>h(ie(e[0],e[a-1],_)):h}function Mr(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ot(0,t,r);e.push(Pe(n,1,o))}}function Er(e){const t=[0];return Mr(t,e.length-1),t}function Yo(e,t){return e.map(n=>n*t)}function Zo(e,t){return e.map(()=>t||lr).splice(0,e.length-1)}function Se({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=cr(r)?r.map(gn):gn(r),a={done:!1,value:t[0]},l=Yo(n&&n.length===t.length?n:Er(t),e),f=Xo(l,t,{ease:Array.isArray(o)?o:Zo(t,o)});return{calculatedDuration:e,next:d=>(a.value=f(d),a.done=d>=e,a)}}const zo=e=>e!==null;function Gt(e,{repeat:t,repeatType:n="loop"},r,o=1){const a=e.filter(zo),f=o<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!f||r===void 0?a[f]:r}const Qo={decay:yt,inertia:yt,tween:Se,keyframes:Se,spring:ce};function kr(e){typeof e.type=="string"&&(e.type=Qo[e.type])}class Ut{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Jo=e=>e/100;class Wt extends Ut{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==B.now()&&this.tick(B.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kr(t);const{type:n=Se,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=t;let{keyframes:f}=t;const d=n||Se;d!==Se&&typeof f[0]!="number"&&(this.mixKeyframes=Pt(Jo,Tr(f[0],f[1])),f=[0,100]);const h=d({...t,keyframes:f});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...f].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Kt(h));const{calculatedDuration:_}=h;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:_,repeat:i,repeatType:s,repeatDelay:u,type:c,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-h*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?p<0:p>o;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let b=this.currentTime,A=r;if(i){const x=Math.min(this.currentTime,o)/f;let T=Math.floor(x),I=x%1;!I&&x>=1&&(I=1),I===1&&T--,T=Math.min(T,i+1),!!(T%2)&&(s==="reverse"?(I=1-I,u&&(I-=u/f)):s==="mirror"&&(A=l)),b=ie(0,1,I)*f}const w=v?{done:!1,value:_[0]}:A.next(b);a&&(w.value=a(w.value));let{done:M}=w;!v&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return k&&c!==yt&&(w.value=Gt(_,this.options,g,this.speed)),m&&m(w.value),k&&this.finish(),w}then(t,n){return this.finished.then(t,n)}get duration(){return K(this.calculatedDuration)}get time(){return K(this.currentTime)}set time(t){t=q(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(B.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=K(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Ro,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(B.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function es(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Q=e=>e*180/Math.PI,vt=e=>{const t=Q(Math.atan2(e[1],e[0]));return bt(t)},ts={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vt,rotateZ:vt,skewX:e=>Q(Math.atan(e[1])),skewY:e=>Q(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bt=e=>(e=e%360,e<0&&(e+=360),e),Tn=vt,An=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ns={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:An,scaleY:xn,scale:e=>(An(e)+xn(e))/2,rotateX:e=>bt(Q(Math.atan2(e[6],e[5]))),rotateY:e=>bt(Q(Math.atan2(-e[2],e[0]))),rotateZ:Tn,rotate:Tn,skewX:e=>Q(Math.atan(e[4])),skewY:e=>Q(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wt(e){return e.includes("scale")?1:0}function Tt(e,t){if(!e||e==="none")return wt(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=ns,o=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ts,o=f}if(!o)return wt(t);const a=r[t],l=o[1].split(",").map(is);return typeof a=="function"?a(l):l[a]}const rs=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Tt(n,t)};function is(e){return parseFloat(e.trim())}const he=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],me=new Set(he),Sn=e=>e===de||e===S,os=new Set(["x","y","z"]),ss=he.filter(e=>!os.has(e));function as(e){const t=[];return ss.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ee={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Tt(t,"x"),y:(e,{transform:t})=>Tt(t,"y")};ee.translateX=ee.x;ee.translateY=ee.y;const te=new Set;let At=!1,xt=!1,St=!1;function Vr(){if(xt){const e=Array.from(te).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=as(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xt=!1,At=!1,te.forEach(e=>e.complete(St)),te.clear()}function Nr(){te.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xt=!0)})}function us(){St=!0,Nr(),Vr(),St=!1}class $t{constructor(t,n,r,o,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(te.add(this),At||(At=!0,U.read(Nr),U.resolveKeyframes(Vr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const a=o?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const f=r.readValue(n,l);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=l),o&&a===void 0&&o.set(t[0])}es(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),te.delete(this)}cancel(){this.state==="scheduled"&&(te.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ls=e=>e.startsWith("--");function cs(e,t,n){ls(t)?e.style.setProperty(t,n):e.style[t]=n}const fs=It(()=>window.ScrollTimeline!==void 0),ds={};function ps(e,t){const n=It(e);return()=>ds[t]??n()}const Cr=ps(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Te=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Mn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Te([0,.65,.55,1]),circOut:Te([.55,0,1,.45]),backIn:Te([.31,.01,.66,-.59]),backOut:Te([.33,1.53,.69,.99])};function Fr(e,t){if(e)return typeof e=="function"?Cr()?Ar(e,t):"ease-out":dr(e)?Te(e):Array.isArray(e)?e.map(n=>Fr(n,t)||Mn.easeOut):Mn[e]}function hs(e,t,n,{delay:r=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:f="easeOut",times:d}={},h=void 0){const _={[t]:n};d&&(_.offset=d);const i=Fr(f,o);Array.isArray(i)&&(_.easing=i);const s={delay:r,duration:o,easing:Array.isArray(i)?"linear":i,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(s.pseudoElement=h),e.animate(_,s)}function jt(e){return typeof e=="function"&&"applyToOptions"in e}function ms({type:e,...t}){return jt(e)&&Cr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class gs extends Ut{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:f,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,Ft(typeof t.type!="string");const h=ms(t);this.animation=hs(n,r,o,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const _=Gt(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(_):cs(n,r,_),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return K(Number(t))}get time(){return K(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=q(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&fs()?(this.animation.timeline=t,fe):n(this)}}const Ir={anticipate:ar,backInOut:sr,circInOut:ur};function _s(e){return e in Ir}function ys(e){typeof e.ease=="string"&&_s(e.ease)&&(e.ease=Ir[e.ease])}const En=10;class vs extends gs{constructor(t){ys(t),kr(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Wt({...l,autoplay:!1}),d=q(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-En).value,f.sample(d).value,En),f.stop()}}const kn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pe.test(e)||e==="0")&&!e.startsWith("url("));function bs(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ws(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=kn(o,t),f=kn(a,t);return!l||!f?!1:bs(e)||(n==="spring"||jt(n))&&r}function Mt(e){e.duration=0,e.type}const Ts=new Set(["opacity","clipPath","filter","transform"]),As=It(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xs(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:a,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return As()&&n&&Ts.has(n)&&(n!=="transform"||!h)&&!d&&!r&&o!=="mirror"&&a!==0&&l!=="inertia"}const Ss=40;class Ms extends Ut{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",keyframes:f,name:d,motionValue:h,element:_,...i}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=B.now();const s={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:l,name:d,motionValue:h,element:_,...i},u=_?.KeyframeResolver||$t;this.keyframeResolver=new u(f,(c,m,g)=>this.onKeyframesResolved(c,m,s,!g),d,h,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:a,type:l,velocity:f,delay:d,isHandoff:h,onUpdate:_}=r;this.resolvedAt=B.now(),ws(t,a,l,f)||((G.instantAnimations||!d)&&_?.(Gt(t,r,n)),t[0]=t[t.length-1],Mt(r),r.repeat=0);const s={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Ss?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},u=!h&&xs(s)?new vs({...s,element:s.motionValue.owner.current}):new Wt(s);u.finished.then(()=>this.notifyFinished()).catch(fe),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),us()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class Es{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ks extends Es{then(t,n){return this.finished.finally(t).then(()=>{})}}const Vs=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ns(e){const t=Vs.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function Pr(e,t,n=1){const[r,o]=Ns(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const l=a.trim();return Qn(l)?parseFloat(l):l}return Bt(o)?Pr(o,t,n+1):o}function Or(e,t){return e?.[t]??e?.default??e}const Dr=new Set(["width","height","top","left","right","bottom",...he]),Cs={test:e=>e==="auto",parse:e=>e},Lr=e=>t=>t.test(e),Br=[de,S,ae,$,Ao,To,Cs],Vn=e=>Br.find(Lr(e));function Fs(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Jn(e):!0}const Is=new Set(["brightness","contrast","saturate","opacity"]);function Ps(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Rt)||[];if(!r)return e;const o=n.replace(r,"");let a=Is.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const Os=/\b([a-z-]*)\(.*?\)/gu,Et={...pe,getAnimatableNone:e=>{const t=e.match(Os);return t?t.map(Ps).join(" "):e}},Nn={...de,transform:Math.round},Ds={rotate:$,rotateX:$,rotateY:$,rotateZ:$,scale:He,scaleX:He,scaleY:He,scaleZ:He,skew:$,skewX:$,skewY:$,distance:S,translateX:S,translateY:S,translateZ:S,x:S,y:S,z:S,perspective:S,transformPerspective:S,opacity:ke,originX:_n,originY:_n,originZ:S},Xt={borderWidth:S,borderTopWidth:S,borderRightWidth:S,borderBottomWidth:S,borderLeftWidth:S,borderRadius:S,radius:S,borderTopLeftRadius:S,borderTopRightRadius:S,borderBottomRightRadius:S,borderBottomLeftRadius:S,width:S,maxWidth:S,height:S,maxHeight:S,top:S,right:S,bottom:S,left:S,padding:S,paddingTop:S,paddingRight:S,paddingBottom:S,paddingLeft:S,margin:S,marginTop:S,marginRight:S,marginBottom:S,marginLeft:S,backgroundPositionX:S,backgroundPositionY:S,...Ds,zIndex:Nn,fillOpacity:ke,strokeOpacity:ke,numOctaves:Nn},Ls={...Xt,color:C,backgroundColor:C,outlineColor:C,fill:C,stroke:C,borderColor:C,borderTopColor:C,borderRightColor:C,borderBottomColor:C,borderLeftColor:C,filter:Et,WebkitFilter:Et},Rr=e=>Ls[e];function qr(e,t){let n=Rr(e);return n!==Et&&(n=pe),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Bs=new Set(["auto","none","0"]);function Rs(e,t,n){let r=0,o;for(;r<e.length&&!o;){const a=e[r];typeof a=="string"&&!Bs.has(a)&&Ve(a).values.length&&(o=e[r]),r++}if(o&&n)for(const a of t)e[a]=qr(n,o)}class qs extends $t{constructor(t,n,r,o,a){super(t,n,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Bt(h))){const _=Pr(h,n.current);_!==void 0&&(t[d]=_),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Dr.has(r)||t.length!==2)return;const[o,a]=t,l=Vn(o),f=Vn(a);if(l!==f)if(Sn(l)&&Sn(f))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else ee[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||Fs(t[o]))&&r.push(o);r.length&&Rs(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ee[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ee[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{t.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function Hs(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=n?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Hr=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Cn=30,Ks=e=>!isNaN(parseFloat(e));class Gs{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=B.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=B.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ks(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new er);const r=this.events[t].add(n);return t==="change"?()=>{r(),U.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=B.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Cn)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cn);return tr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ne(e,t){return new Gs(e,t)}const{schedule:Us}=pr(queueMicrotask,!1);function Kr(e){return to(e)&&"ownerSVGElement"in e}function Ws(e){return Kr(e)&&e.tagName==="svg"}const P=e=>!!(e&&e.getVelocity),$s=[...Br,C,pe],js=e=>$s.find(Lr(e));function Yt(e){return typeof e=="object"&&!Array.isArray(e)}function Gr(e,t,n,r){return typeof e=="string"&&Yt(t)?Hs(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Xs(e,t,n){return e*(t+1)}function Fn(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function Ys(e,t,n){for(let r=0;r<e.length;r++){const o=e[r];o.at>t&&o.at<n&&(zn(e,o),r--)}}function Zs(e,t,n,r,o,a){Ys(e,o,a);for(let l=0;l<t.length;l++)e.push({value:t[l],at:Pe(o,a,r[l]),easing:fr(n,l)})}function zs(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function Qs(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Js="easeInOut";function ea(e,{defaultTransition:t={},...n}={},r,o){const a=t.duration||.3,l=new Map,f=new Map,d={},h=new Map;let _=0,i=0,s=0;for(let u=0;u<e.length;u++){const c=e[u];if(typeof c=="string"){h.set(c,i);continue}else if(!Array.isArray(c)){h.set(c.name,Fn(i,c.at,_,h));continue}let[m,g,p={}]=c;p.at!==void 0&&(i=Fn(i,p.at,_,h));let v=0;const b=(A,w,M,k=0,x=0)=>{const T=ta(A),{delay:I=0,times:D=Er(T),type:ge="keyframes",repeat:X,repeatType:Y,repeatDelay:Qt=0,...ni}=w;let{ease:W=t.ease||"easeOut",duration:H}=w;const Jt=typeof I=="function"?I(k,x):I,en=T.length,tn=jt(ge)?ge:o?.[ge||"keyframes"];if(en<=2&&tn){let _e=100;if(en===2&&ia(T)){const ye=T[1]-T[0];_e=Math.abs(ye)}const Oe={...ni};H!==void 0&&(Oe.duration=q(H));const De=xr(Oe,_e,tn);W=De.ease,H=De.duration}H??(H=a);const nn=i+Jt;D.length===1&&D[0]===0&&(D[1]=1);const rn=D.length-T.length;if(rn>0&&Mr(D,rn),T.length===1&&T.unshift(null),X){H=Xs(H,X);const _e=[...T],Oe=[...D];W=Array.isArray(W)?[...W]:[W];const De=[...W];for(let ye=0;ye<X;ye++){T.push(..._e);for(let ve=0;ve<_e.length;ve++)D.push(Oe[ve]+(ye+1)),W.push(ve===0?"linear":fr(De,ve-1))}zs(D,X)}const on=nn+H;Zs(M,T,W,D,nn,on),v=Math.max(Jt+H,v),s=Math.max(on,s)};if(P(m)){const A=In(m,f);b(g,p,Pn("default",A))}else{const A=Gr(m,g,r,d),w=A.length;for(let M=0;M<w;M++){g=g,p=p;const k=A[M],x=In(k,f);for(const T in g)b(g[T],na(p,T),Pn(T,x),M,w)}}_=i,i+=v}return f.forEach((u,c)=>{for(const m in u){const g=u[m];g.sort(Qs);const p=[],v=[],b=[];for(let w=0;w<g.length;w++){const{at:M,value:k,easing:x}=g[w];p.push(k),v.push(Ot(0,s,M)),b.push(x||"easeOut")}v[0]!==0&&(v.unshift(0),p.unshift(p[0]),b.unshift(Js)),v[v.length-1]!==1&&(v.push(1),p.push(null)),l.has(c)||l.set(c,{keyframes:{},transition:{}});const A=l.get(c);A.keyframes[m]=p,A.transition[m]={...t,duration:s,ease:b,times:v,...n}}}),l}function In(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Pn(e,t){return t[e]||(t[e]=[]),t[e]}function ta(e){return Array.isArray(e)?e:[e]}function na(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const ra=e=>typeof e=="number",ia=e=>e.every(ra),Ce=new WeakMap,oa=e=>Array.isArray(e);function On(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ur(e,t,n,r){if(typeof t=="function"){const[o,a]=On(r);t=t(n!==void 0?n:e.custom,o,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,a]=On(r);t=t(n!==void 0?n:e.custom,o,a)}return t}function sa(e,t,n){const r=e.getProps();return Ur(r,t,r.custom,e)}function aa(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ne(n))}function ua(e){return oa(e)?e[e.length-1]||0:e}function la(e,t){const n=sa(e,t);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const l in a){const f=ua(a[l]);aa(e,l,f)}}function ca(e){return!!(P(e)&&e.add)}function fa(e,t){const n=e.getValue("willChange");if(ca(n))return n.add(t);if(!n&&G.WillChange){const r=new G.WillChange("auto");e.addValue("willChange",r),r.add(t)}}const Zt=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),da="framerAppearId",pa="data-"+Zt(da);function ha(e){return e.props[pa]}const ma=e=>e!==null;function ga(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(ma),a=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[a]}const _a={type:"spring",stiffness:500,damping:25,restSpeed:10},ya=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),va={type:"keyframes",duration:.8},ba={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wa=(e,{keyframes:t})=>t.length>2?va:me.has(e)?e.startsWith("scale")?ya(t[1]):_a:ba;function Ta({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:f,from:d,elapsed:h,..._}){return!!Object.keys(_).length}const Wr=(e,t,n,r={},o,a)=>l=>{const f=Or(r,e)||{},d=f.delay||r.delay||0;let{elapsed:h=0}=r;h=h-q(d);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-h,onUpdate:s=>{t.set(s),f.onUpdate&&f.onUpdate(s)},onComplete:()=>{l(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:a?void 0:o};Ta(f)||Object.assign(_,wa(e,_)),_.duration&&(_.duration=q(_.duration)),_.repeatDelay&&(_.repeatDelay=q(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let i=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(Mt(_),_.delay===0&&(i=!0)),(G.instantAnimations||G.skipAnimations)&&(i=!0,Mt(_),_.delay=0),_.allowFlatten=!f.type&&!f.ease,i&&!a&&t.get()!==void 0){const s=ga(_.keyframes,f);if(s!==void 0){U.update(()=>{_.onUpdate(s),_.onComplete()});return}}return f.isSync?new Wt(_):new Ms(_)};function Aa({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xa(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...f}=t;r&&(a=r);const d=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const _ in f){const i=e.getValue(_,e.latestValues[_]??null),s=f[_];if(s===void 0||h&&Aa(h,_))continue;const u={delay:n,...Or(a||{},_)},c=i.get();if(c!==void 0&&!i.isAnimating&&!Array.isArray(s)&&s===c&&!u.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const p=ha(e);if(p){const v=window.MotionHandoffAnimation(p,_,U);v!==null&&(u.startTime=v,m=!0)}}fa(e,_),i.start(Wr(_,i,s,e.shouldReduceMotion&&Dr.has(_)?{type:!1}:u,e,m));const g=i.animation;g&&d.push(g)}return l&&Promise.all(d).then(()=>{U.update(()=>{l&&la(e,l)})}),d}function Sa({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ma(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ea(e,t){return Sa(Ma(e.getBoundingClientRect(),t))}const Dn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kt={};for(const e in Dn)kt[e]={isEnabled:t=>Dn[e].some(n=>!!t[n])};const Ln=()=>({min:0,max:0}),zt=()=>({x:Ln(),y:Ln()}),ka=typeof window<"u",Vt={current:null},$r={current:!1};function Va(){if($r.current=!0,!!ka)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vt.current=e.matches;e.addEventListener("change",t),t()}else Vt.current=!1}function Na(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ca(e){return typeof e=="string"||Array.isArray(e)}const Fa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ia=["initial",...Fa];function jr(e){return Na(e.animate)||Ia.some(t=>Ca(e[t]))}function Pa(e){return!!(jr(e)||e.variants)}function Oa(e,t,n){for(const r in t){const o=t[r],a=n[r];if(P(o))e.addValue(r,o);else if(P(a))e.addValue(r,Ne(o,{owner:e}));else if(a!==o)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=e.getStaticValue(r);e.addValue(r,Ne(l!==void 0?l:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Bn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xr{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$t,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const s=B.now();this.renderScheduledAt<s&&(this.renderScheduledAt=s,U.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=jr(n),this.isVariantNode=Pa(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...i}=this.scrapeMotionValuesFromProps(n,{},this);for(const s in i){const u=i[s];d[s]!==void 0&&P(u)&&u.set(d[s])}}mount(t){this.current=t,Ce.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$r.current||Va(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vt.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ht(this.notifyUpdate),ht(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=me.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&U.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in kt){const n=kt[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bn.length;r++){const o=Bn[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=t[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=Oa(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ne(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Qn(r)||Jn(r))?r=parseFloat(r):!js(r)&&pe.test(n)&&(r=qr(t,n)),this.setBaseTarget(t,P(r)?r.get():r)),P(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Ur(this.props,n,this.presenceContext?.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!P(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new er),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Us.render(this.render)}}class Yr extends Xr{constructor(){super(...arguments),this.KeyframeResolver=qs}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;P(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}const Da={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},La=he.length;function Ba(e,t,n){let r="",o=!0;for(let a=0;a<La;a++){const l=he[a],f=e[l];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(l.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const h=Hr(f,Xt[l]);if(!d){o=!1;const _=Da[l]||l;r+=`${_}(${h}) `}n&&(t[l]=h)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Zr(e,t,n){const{style:r,vars:o,transformOrigin:a}=e;let l=!1,f=!1;for(const d in t){const h=t[d];if(me.has(d)){l=!0;continue}else if(mr(d)){o[d]=h;continue}else{const _=Hr(h,Xt[d]);d.startsWith("origin")?(f=!0,a[d]=_):r[d]=_}}if(t.transform||(l||n?r.transform=Ba(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:d="50%",originY:h="50%",originZ:_=0}=a;r.transformOrigin=`${d} ${h} ${_}`}}function zr(e,{style:t,vars:n},r,o){const a=e.style;let l;for(l in t)a[l]=t[l];o?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}const Ra={};function qa(e,{layout:t,layoutId:n}){return me.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ra[e]||e==="opacity")}function Qr(e,t,n){const{style:r}=e,o={};for(const a in r)(P(r[a])||t.style&&P(t.style[a])||qa(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=r[a]);return o}function Ha(e){return window.getComputedStyle(e)}class Ka extends Yr{constructor(){super(...arguments),this.type="html",this.renderInstance=zr}readValueFromInstance(t,n){if(me.has(n))return this.projection?.isProjecting?wt(n):rs(t,n);{const r=Ha(t),o=(mr(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ea(t,n)}build(t,n,r){Zr(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Qr(t,n,r)}}function Ga(e,t){return e in t}class Ua extends Xr{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Ga(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return zt()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}const Wa={offset:"stroke-dashoffset",array:"stroke-dasharray"},$a={offset:"strokeDashoffset",array:"strokeDasharray"};function ja(e,t,n=1,r=0,o=!0){e.pathLength=1;const a=o?Wa:$a;e[a.offset]=S.transform(-r);const l=S.transform(t),f=S.transform(n);e[a.array]=`${l} ${f}`}function Xa(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...f},d,h,_){if(Zr(e,f,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:i,style:s}=e;i.transform&&(s.transform=i.transform,delete i.transform),(s.transform||i.transformOrigin)&&(s.transformOrigin=i.transformOrigin??"50% 50%",delete i.transformOrigin),s.transform&&(s.transformBox=_?.transformBox??"fill-box",delete i.transformBox),t!==void 0&&(i.x=t),n!==void 0&&(i.y=n),r!==void 0&&(i.scale=r),o!==void 0&&ja(i,o,a,l,!1)}const Jr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ya=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Za(e,t,n,r){zr(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Jr.has(o)?o:Zt(o),t.attrs[o])}function za(e,t,n){const r=Qr(e,t,n);for(const o in e)if(P(e[o])||P(t[o])){const a=he.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=e[o]}return r}class Qa extends Yr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(me.has(n)){const r=Rr(n);return r&&r.default||0}return n=Jr.has(n)?n:Zt(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return za(t,n,r)}build(t,n,r){Xa(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){Za(t,n,r,o)}mount(t){this.isSVGTag=Ya(t.tagName),super.mount(t)}}function Ja(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Kr(e)&&!Ws(e)?new Qa(t):new Ka(t);n.mount(e),Ce.set(e,n)}function eu(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Ua(t);n.mount(e),Ce.set(e,n)}function tu(e,t,n){const r=P(e)?e:Ne(e);return r.start(Wr("",r,t,n)),r.animation}function nu(e,t){return P(e)||typeof e=="number"||typeof e=="string"&&!Yt(t)}function ei(e,t,n,r){const o=[];if(nu(e,t))o.push(tu(e,Yt(t)&&t.default||t,n&&(n.default||n)));else{const a=Gr(e,t,r),l=a.length;for(let f=0;f<l;f++){const d=a[f],h=d instanceof Element?Ja:eu;Ce.has(d)||h(d);const _=Ce.get(d),i={...n};"delay"in i&&typeof i.delay=="function"&&(i.delay=i.delay(f,l)),o.push(...xa(_,{...t,transition:i},{}))}}return o}function ru(e,t,n){const r=[];return ea(e,t,n,{spring:ce}).forEach(({keyframes:a,transition:l},f)=>{r.push(...ei(f,a,l))}),r}function iu(e){return Array.isArray(e)&&e.some(Array.isArray)}function ou(e){function t(n,r,o){let a=[];return iu(n)?a=ru(n,r,e):a=ei(n,r,o,e),new ks(a)}return t}const su=ou();function au(e,t,n="rgb(74 222 128)"){const r=document.createElement("span");r.textContent=t,r.className="pointer-events-none select-none text-sm font-semibold",r.style.position="absolute",r.style.left="50%",r.style.top="50%",r.style.transform="translate(-50%, -50%)",r.style.color=n,r.style.textShadow="0 0 12px rgba(74, 222, 128, 0.5)",e.appendChild(r),su(r,{opacity:[1,0],translateY:["0px","-48px"],scale:[1,.9]},{easing:ce({stiffness:160,damping:30}),duration:1.2}).finished.catch(()=>{}).finally(()=>{r.remove()})}let V=null,ue=Qi(!1),Rn=new E(0);function ne(e){V||(V=uu(e),ue.setMuted(e.muted),Ee(e),Xe(e),cu()),ti(e),fu(e),du(e)}function uu(e){const t=document.getElementById("app");if(!t)throw new Error("#app root missing");t.innerHTML="";const n=document.createElement("div");n.className="space-y-4";const r=document.createElement("div");r.className="space-y-4",t.append(n,r);const o=document.createElement("section");o.className="card fade-in space-y-4";const a=document.createElement("h1");a.className="text-3xl font-bold tracking-tight text-leaf-200",o.appendChild(a);const l=document.createElement("dl");l.className="grid grid-cols-2 gap-4 text-sm text-neutral-300",o.appendChild(l);const f=new Map,d=Ke("stats.buds",l,f),h=Ke("stats.bps",l,f),_=Ke("stats.bpc",l,f),i=Ke("stats.total",l,f),s=document.createElement("div");s.className="flex flex-wrap gap-2",o.appendChild(s);const u=We("/icons/ui/ui-mute.svg"),c=We("/icons/ui/ui-export.svg"),m=We("/icons/ui/ui-import.svg"),g=hu("/icons/ui/ui-reset.svg");s.append(u.button,c.button,m.button,g.button),n.appendChild(o);const p=document.createElement("section");p.className="card fade-in space-y-4";const v=document.createElement("button");v.className="click-button w-full",v.type="button";const b=document.createElement("img");b.src="/icons/ui/icon-leaf-click.svg",b.alt="",b.className="h-28 w-28 shrink-0 transition-transform duration-200";const A=document.createElement("span");A.className="absolute bottom-4 left-1/2 -translate-x-1/2 text-sm uppercase tracking-[0.35em] text-white/80",v.append(b,A),p.appendChild(v);const w=document.createElement("p");w.setAttribute("data-sr-only","true"),w.setAttribute("aria-live","polite"),p.appendChild(w),n.appendChild(p);const M=document.createElement("section");M.className="card fade-in space-y-4";const k=document.createElement("h2");k.className="text-xl font-semibold text-leaf-200",M.appendChild(k);const x=document.createElement("div");x.className="grid gap-3",M.appendChild(x),r.appendChild(M);const T={root:t,title:a,statsLabels:f,buds:d,bps:h,bpc:_,total:i,clickButton:v,clickLabel:A,clickIcon:b,controls:{mute:u,export:c,import:m,reset:g},announcer:w,shopTitle:k,shopList:x,shopEntries:new Map};return lu(T,e),T}function lu(e,t){e.clickButton.addEventListener("click",()=>{const n=Xi(t);ue.playClick(),e.clickIcon.classList.add("scale-95"),setTimeout(()=>e.clickIcon.classList.remove("scale-95"),120),au(e.clickButton,`+${j(n)}`),mu(e,t.buds),ne(t)}),e.controls.mute.button.addEventListener("click",()=>{t.muted=ue.toggleMute(),ti(t)}),e.controls.export.button.addEventListener("click",async()=>{const n=Bi(t);try{await navigator.clipboard.writeText(n),alert("Save kopiert.")}catch{window.prompt("Save kopieren:",n)}}),e.controls.import.button.addEventListener("click",()=>{const n=window.prompt("Bitte Base64-Spielstand einfügen:");if(n)try{const r=Ri(n);Object.assign(t,r),Ee(t),Xe(t),ue.setMuted(t.muted),ne(t)}catch(r){console.error(r),alert("Import fehlgeschlagen.")}}),e.controls.reset.button.addEventListener("click",()=>{if(!window.confirm("Spielstand wirklich löschen?"))return;qi();const r=pt({locale:t.locale,muted:t.muted});Object.assign(t,r),Ee(t),Xe(t),ne(t)})}function cu(){window.addEventListener("keydown",e=>{e.repeat||(e.code==="Space"||e.code==="Enter")&&(e.preventDefault(),V?.clickButton.click())})}function ti(e){if(!V)return;V.title.textContent=F(e.locale,"app.title"),V.shopTitle.textContent=F(e.locale,"shop.title"),V.clickButton.setAttribute("aria-label",F(e.locale,"actions.click")),V.clickLabel.textContent=F(e.locale,"actions.click");const t=e.muted?{label:F(e.locale,"actions.unmute"),icon:"/icons/ui/ui-unmute.svg"}:{label:F(e.locale,"actions.mute"),icon:"/icons/ui/ui-mute.svg"};V.controls.mute.icon.src=t.icon,V.controls.mute.label.textContent=t.label,V.controls.mute.button.setAttribute("aria-label",t.label),V.controls.export.label.textContent=F(e.locale,"actions.export"),V.controls.export.button.setAttribute("aria-label",F(e.locale,"actions.export")),V.controls.import.label.textContent=F(e.locale,"actions.import"),V.controls.import.button.setAttribute("aria-label",F(e.locale,"actions.import")),V.controls.reset.label.textContent=F(e.locale,"actions.reset"),V.controls.reset.button.setAttribute("aria-label",F(e.locale,"actions.reset")),V.statsLabels.forEach((n,r)=>{n.textContent=F(e.locale,r)}),V.shopEntries.forEach((n,r)=>{const o=tt.get(r);o&&(n.name.textContent=o.name[e.locale],n.description.textContent=o.description[e.locale],n.icon.alt=o.name[e.locale],n.buyButton.textContent=F(e.locale,"actions.buy"),n.maxButton.textContent=F(e.locale,"actions.max"))})}function fu(e){V&&(V.buds.textContent=j(e.buds),V.bps.textContent=j(e.bps),V.bpc.textContent=j(e.bpc),V.total.textContent=j(e.total))}function du(e){if(!V)return;$i(e).forEach(n=>{let r=V.shopEntries.get(n.definition.id);r||(r=pu(n.definition.id,e),V.shopEntries.set(n.definition.id,r)),r.icon.src=n.definition.icon,n.unlocked?(r.container.classList.remove("opacity-40"),r.buyButton.disabled=!n.affordable,r.maxButton.disabled=Zn(n.definition,e)===0):(r.container.classList.add("opacity-40"),r.buyButton.disabled=!0,r.maxButton.disabled=!0),r.cost.textContent=n.formattedCost,r.next.textContent=n.formattedNextCost,r.owned.textContent=n.owned.toString(),r.payback.textContent=ji(e.locale,n.payback)})}function pu(e,t){if(!V)throw new Error("UI refs missing");const n=tt.get(e);if(!n)throw new Error(`Unknown item ${e}`);const r=document.createElement("article");r.className="card relative overflow-hidden border-white/10 bg-neutral-900/40";const o=document.createElement("div");o.className="flex items-start justify-between gap-3";const a=document.createElement("div"),l=document.createElement("h3");l.className="text-lg font-semibold text-neutral-100",l.textContent=n.name[t.locale],a.appendChild(l);const f=document.createElement("p");f.className="text-sm text-neutral-400",f.textContent=n.description[t.locale],a.appendChild(f),o.appendChild(a);const d=document.createElement("img");d.src=n.icon,d.alt=n.name[t.locale],d.className="h-12 w-12 shrink-0 rounded-xl border border-white/5 bg-neutral-950/60 p-2",o.appendChild(d),r.appendChild(o);const h=document.createElement("dl");h.className="mt-3 grid grid-cols-2 gap-2 text-xs text-neutral-300";const _=Ge(h,"Kosten"),i=Ge(h,"Naechster Preis"),s=Ge(h,"Besitzt"),u=Ge(h,"Payback");r.appendChild(h);const c=document.createElement("div");c.className="mt-4 flex items-center gap-2";const m=document.createElement("button");m.type="button",m.className="flex-1 rounded-lg bg-leaf-500/90 px-3 py-2 text-sm font-semibold text-neutral-900 transition hover:bg-leaf-400 focus-visible:ring-2 focus-visible:ring-leaf-300",m.textContent=F(t.locale,"actions.buy");const g=document.createElement("button");return g.type="button",g.className="rounded-lg border border-white/10 px-3 py-2 text-xs font-semibold text-neutral-200 transition hover:border-leaf-400 focus-visible:ring-2 focus-visible:ring-leaf-300",g.textContent=F(t.locale,"actions.max"),c.append(m,g),r.appendChild(c),V.shopList.appendChild(r),m.addEventListener("click",()=>{pn(t,e,1)&&(ue.playPurchase(),je(t),ne(t))}),g.addEventListener("click",()=>{const p=Zn(n,t);p>0&&pn(t,e,p)&&(ue.playPurchase(),je(t),ne(t))}),{container:r,icon:d,name:l,description:f,cost:_.value,next:i.value,owned:s.value,payback:u.value,buyButton:m,maxButton:g}}function Ke(e,t,n){const r=document.createElement("div"),o=document.createElement("dt");o.className="text-xs uppercase tracking-[0.28em] text-neutral-500",n.set(e,o);const a=document.createElement("dd");return a.className="mt-1 text-lg font-semibold text-neutral-100",r.append(o,a),t.appendChild(r),a}function Ge(e,t){const n=document.createElement("dt");n.textContent=t,n.className="text-neutral-400";const r=document.createElement("dd");return r.className="text-neutral-100",e.append(n,r),{label:n,value:r}}function We(e){const t=document.createElement("button");t.type="button",t.className="inline-flex items-center gap-2 rounded-lg border border-white/10 px-3 py-2 text-xs font-semibold text-neutral-200 transition hover:border-leaf-400 focus-visible:ring-2 focus-visible:ring-leaf-300";const n=document.createElement("img");n.src=e,n.alt="",n.className="h-4 w-4";const r=document.createElement("span");return r.className="whitespace-nowrap",t.append(n,r),{button:t,icon:n,label:r}}function hu(e){const t=We(e);return t.button.classList.add("hover:border-rose-400","text-rose-300"),t}function mu(e,t){t.minus(Rn).lessThan(10)||(e.announcer.textContent=`Buds: ${j(t)}`,Rn=t)}xi({root:document,onChange:({isFocusVisible:e})=>{document.body.classList.toggle("focus-visible",e)}});Di();const gu=Li(),rt=$n(gu);ne(rt);Hi(rt,{onTick:e=>{ne(e)},onAutosave:e=>{je(e)}},{autosaveSeconds:10});window.__state=rt;window.addEventListener("beforeunload",()=>je(rt));
